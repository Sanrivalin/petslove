(function(){var e={6700:function(e,t,s){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function o(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id=6700},3322:function(e,t,s){"use strict";var a=s(9242),o=s(3396);function i(e,t,s,a,i,l){const n=(0,o.up)("TabsList"),r=(0,o.up)("PWAPrompt");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{onApplyShop:l.applyShop,isShopsEnabled:l.isShopsEnabled},null,8,["onApplyShop","isShopsEnabled"]),(0,o.Wm)(r)])}var l=s(7139);function n(e,t,s,i,n,r){const d=(0,o.up)("font-awesome-icon"),u=(0,o.up)("ShopsTab"),c=(0,o.up)("b-tab"),m=(0,o.up)("ShopTitle"),h=(0,o.up)("UpcomingReservationsTab"),p=(0,o.up)("ReservationsCalendarTab"),g=(0,o.up)("CustomersAddressBookTab"),b=(0,o.up)("b-tabs");return(0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)({"hide-tabs-header":e.isHideTabsHeader})},[(0,o.Wm)(b,{pills:"",card:"",end:""},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(c,{active:r.isActiveTab("#shops"),"title-item-class":{hide:!s.isShopsEnabled}},{title:(0,o.w5)((()=>[(0,o._)("span",{onClick:t[0]||(t[0]=e=>r.click("#shops"))},[(0,o.Wm)(d,{icon:"fa-solid fa-store"})])])),default:(0,o.w5)((()=>[(0,o.Wm)(u,{onApplyShop:r.applyShop},null,8,["onApplyShop"])])),_:1},8,["active","title-item-class"]),[[a.F8,s.isShopsEnabled]]),(0,o.Wm)(c,{active:r.isActiveTab("#upcoming-reservations")},{title:(0,o.w5)((()=>[(0,o._)("span",{onClick:t[1]||(t[1]=e=>r.click("#upcoming-reservations")),ref:"upcoming-reservations-tab-link"},[(0,o.Wm)(d,{icon:"fa-solid fa-list"})],512)])),default:(0,o.w5)((()=>[(0,o.Wm)(m,{shop:e.shop},null,8,["shop"]),(0,o.Wm)(h,{shop:e.shop,onHideTabsHeader:r.hideTabsHeader},null,8,["shop","onHideTabsHeader"])])),_:1},8,["active"]),(0,o.Wm)(c,{active:r.isActiveTab("#reservations-calendar")},{title:(0,o.w5)((()=>[(0,o._)("span",{onClick:t[2]||(t[2]=e=>r.click("#reservations-calendar"))},[(0,o.Wm)(d,{icon:"fa-solid fa-calendar-days"})])])),default:(0,o.w5)((()=>[(0,o.Wm)(m,{shop:e.shop},null,8,["shop"]),(0,o.Wm)(p,{shop:e.shop,onHideTabsHeader:r.hideTabsHeader},null,8,["shop","onHideTabsHeader"])])),_:1},8,["active"]),(0,o.Wm)(c,{active:r.isActiveTab("#customers")},{title:(0,o.w5)((()=>[(0,o._)("span",{onClick:t[3]||(t[3]=e=>r.click("#customers"))},[(0,o.Wm)(d,{icon:"fa-regular fa-address-book"})])])),default:(0,o.w5)((()=>[(0,o.Wm)(m,{shop:e.shop},null,8,["shop"]),(0,o.Wm)(g,{shop:e.shop,onHideTabsHeader:r.hideTabsHeader},null,8,["shop","onHideTabsHeader"])])),_:1},8,["active"])])),_:1})],2)}function r(e,t,s,i,l,n){const r=(0,o.up)("ImagesList"),d=(0,o.up)("CustomersAddressBook"),u=(0,o.up)("EditBookingItem"),c=(0,o.up)("BookingDetails"),m=(0,o.up)("UpcomingReservations");return(0,o.wg)(),(0,o.iD)("div",null,[e.isShowCustomerImages?((0,o.wg)(),(0,o.j4)(r,{key:0,customer:e.showImagesCustomer,onClose:n.closeShowCustomerImages,onTakePhoto:e.showTakePhoto,takePhotoFile:e.photo},null,8,["customer","onClose","onTakePhoto","takePhotoFile"])):e.isChooseCustomer?((0,o.wg)(),(0,o.j4)(d,{key:1,onCloseChooseCustomer:n.closeChooseCustomer,chooseCustomerAvailable:!0,onChoose:n.choose,shop:e.item.shop},null,8,["onCloseChooseCustomer","onChoose","shop"])):e.editItem?((0,o.wg)(),(0,o.j4)(u,{key:2,booking:e.item,customer:e.customer,onClose:n.closeEditItem,onChooseCustomer:n.chooseCustomer},null,8,["booking","customer","onClose","onChooseCustomer"])):e.showItem?((0,o.wg)(),(0,o.j4)(c,{key:3,booking:e.item,onClose:n.closeShowItem,onEdit:n.setEditItem,onShowCustomerImages:n.showCustomerImages},null,8,["booking","onClose","onEdit","onShowCustomerImages"])):(0,o.kq)("",!0),(0,o.wy)((0,o.Wm)(m,{onShowItem:n.setShowItem,shop:s.shop},null,8,["onShowItem","shop"]),[[a.F8,!e.showItem]])])}const d={class:"title"},u={class:"search"},c={class:"hours"},m={class:"attendants"},h={class:"bookings-list"},p={key:2,class:"no-result"};function g(e,t,s,a,i,n){const r=(0,o.up)("font-awesome-icon"),g=(0,o.up)("b-form-input"),b=(0,o.up)("b-button"),f=(0,o.up)("b-col"),v=(0,o.up)("b-row"),w=(0,o.up)("b-spinner"),k=(0,o.up)("BookingItem");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",d,(0,l.zw)(e.$t("upcomingReservationsTitle")),1),(0,o._)("div",u,[(0,o.Wm)(r,{icon:"fa-solid fa-magnifying-glass",class:"search-icon"}),(0,o.Wm)(g,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),class:"search-input"},null,8,["modelValue"]),e.search?((0,o.wg)(),(0,o.j4)(r,{key:0,icon:"fa-solid fa-circle-xmark",class:"clear",onClick:t[1]||(t[1]=t=>e.search="")})):(0,o.kq)("",!0)]),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.hours,(t=>((0,o.wg)(),(0,o.j4)(b,{key:t.hours,onClick:s=>e.hourValue=t.hours,pressed:e.hourValue===t.hours,variant:"outline-primary"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.label),1)])),_:2},1032,["onClick","pressed"])))),128))])])),_:1})])),_:1}),(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.attendants,(t=>((0,o.wg)(),(0,o.j4)(b,{key:t.id,variant:"outline-primary",pressed:e.filterAttendant===t.id,onClick:s=>e.filterAttendant===t.id?e.filterAttendant="":e.filterAttendant=t.id},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.name),1)])),_:2},1032,["pressed","onClick"])))),128))])])),_:1})])),_:1}),(0,o._)("div",h,[e.isLoading?((0,o.wg)(),(0,o.j4)(w,{key:0,variant:"primary"})):n.filteredBookingsList.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(n.filteredBookingsList,(e=>((0,o.wg)(),(0,o.j4)(k,{key:e.id,booking:e,onDeleteItem:t=>n.deleteItem(e.id),onShowDetails:t=>n.showDetails(e)},null,8,["booking","onDeleteItem","onShowDetails"])))),128)):((0,o.wg)(),(0,o.iD)("span",p,(0,l.zw)(e.$t("upcomingReservationsNoResultLabel")),1))])])}const b={class:"booking"},f={class:"customer-info-status-customer-wrapper"},v={class:"customer"},w={class:"id"},k={class:"booking-info-date-time-wrapper"},_={class:"date"},y={class:"time"},L={class:"total"},S=["innerHTML"],T={class:"booking-assistant-info"},C={class:"delete"},A={class:"booking-actions-remaining-amount"},D={class:"details-link"},W={class:"delete-btn-wrapper"},P={class:"delete-btn-wrapper-text"};function I(e,t,s,i,n,r){const d=(0,o.up)("b-col"),u=(0,o.up)("b-row"),c=(0,o.up)("font-awesome-icon"),m=(0,o.up)("PayRemainingAmount"),h=(0,o.up)("b-button");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"booking-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("div",b,[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"customer-info"},{default:(0,o.w5)((()=>[(0,o._)("div",f,[(0,o._)("span",{class:"status",style:(0,l.j5)("background-color:"+r.statusColor)},null,4),(0,o._)("span",v,(0,l.zw)(r.customer),1)]),(0,o._)("span",w,(0,l.zw)(r.id),1)])),_:1})])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"booking-info"},{default:(0,o.w5)((()=>[(0,o._)("div",k,[(0,o._)("span",_,(0,l.zw)(r.date),1),(0,o._)("span",y,(0,l.zw)(r.fromTime)+"-"+(0,l.zw)(r.toTime),1)]),(0,o._)("span",L,[(0,o._)("span",{innerHTML:r.totalSum},null,8,S)])])),_:1})])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",T,(0,l.zw)(r.assistants.map((e=>e.name)).join(" | ")),1)])),_:1})])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"booking-actions-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("span",C,[(0,o.Wm)(c,{icon:"fa-solid fa-trash",onClick:t[0]||(t[0]=t=>e.isDelete=!0)})]),(0,o._)("span",A,[(0,o.Wm)(m,{booking:s.booking},null,8,["booking"]),(0,o._)("span",D,[(0,o.Wm)(c,{icon:"fa-solid fa-chevron-right",onClick:r.showDetails},null,8,["onClick"])])])])),_:1})])),_:1})]),e.isDelete?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",{class:"delete-backdrop",onClick:t[1]||(t[1]=t=>e.isDelete=!1)}),(0,o._)("div",W,[(0,o._)("p",P,(0,l.zw)(e.$t("deleteBookingConfirmText")),1),(0,o._)("p",null,[(0,o.Wm)(h,{variant:"primary",onClick:r.deleteItem,class:"delete-btn-wrapper-button"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("deleteBookingButtonLabel")),1)])),_:1},8,["onClick"])]),(0,o._)("p",null,[(0,o._)("a",{href:"#",class:"delete-btn-wrapper-go-back",onClick:t[2]||(t[2]=(0,a.iM)((t=>e.isDelete=!1),["prevent"]))},(0,l.zw)(e.$t("deleteBookingGoBackLabel")),1)])])],64)):(0,o.kq)("",!0)])),_:1})])),_:1})}var B=s.p+"img/requestpayment.png";const j={class:"remaining-amount-payment-link"};function z(e,t,s,i,n,r){const d=(0,o.up)("b-spinner"),u=(0,o.up)("b-alert");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",j,[(0,o._)("img",{src:B,onClick:t[0]||(t[0]=(...e)=>r.payAmount&&r.payAmount(...e))}),n.isLoading?((0,o.wg)(),(0,o.j4)(d,{key:0,variant:"primary"})):(0,o.kq)("",!0),(0,o.Wm)(u,{show:n.isSuccess,fade:"",variant:"success"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("successMessagePayRemainingAmount")),1)])),_:1},8,["show"]),(0,o.Wm)(u,{show:n.isError,fade:"",variant:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("errorMessagePayRemainingAmount")),1)])),_:1},8,["show"])],512)),[[a.F8,r.show]])}var x={name:"PayRemainigAmount",props:{booking:{default:function(){return{}}}},data(){return{isLoading:!1,isSuccess:!1,isError:!1}},computed:{deposit(){return this.booking.deposit},paid_remained(){return this.booking.paid_remained},show(){return this.deposit>0&&!this.paid_remained},id(){return this.booking.id}},methods:{payAmount(){this.isLoading=!0,this.axios.get("bookings/"+this.id+"/pay-remaining-amount").then((e=>{e.data.success&&(this.isSuccess=!0),e.data.error&&(this.isError=!0),setTimeout((()=>{this.isSuccess=!1,this.isError=!1}),3e3)})).finally((()=>{this.isLoading=!1}))}}},E=s(89);const M=(0,E.Z)(x,[["render",z],["__scopeId","data-v-4aaae1de"]]);var H=M,R={name:"BookingItem",props:{booking:{default:function(){return{}}}},data:function(){return{isDelete:!1}},components:{PayRemainingAmount:H},computed:{customer(){return this.booking.customer_first_name+" "+this.booking.customer_last_name},status(){return this.$root.statusesList[this.booking.status].label},statusColor(){return this.$root.statusesList[this.booking.status].color},date(){return this.dateFormat(this.booking.date)},fromTime(){return this.moment(this.booking.time,"HH:mm").format("HH.mm")},toTime(){return this.booking.services.length>0?this.moment(this.booking.services[this.booking.services.length-1].end_at,"HH:mm").format("HH.mm"):this.moment(this.booking.time,"HH:mm").format("HH.mm")},totalSum(){return this.booking.amount+" "+this.booking.currency},id(){return this.booking.id},assistants(){return this.booking.services.map((e=>({id:e.assistant_id,name:e.assistant_name}))).filter((e=>+e.id))}},methods:{deleteItem(){this.$emit("deleteItem"),this.isDelete=!1},showDetails(){this.$emit("showDetails")}},emits:["deleteItem","showDetails"]};const Y=(0,E.Z)(R,[["render",I],["__scopeId","data-v-039f2714"]]);var $=Y,V={name:"UpcomingReservations",props:{shop:{default:function(){return{}}}},data:function(){return{hours:[{label:this.$t("label8Hours"),hours:8},{label:this.$t("label24Hours"),hours:24},{label:this.$t("label3Days"),hours:72},{label:this.$t("label1Week"),hours:168}],hourValue:8,bookingsList:[],isLoading:!1,filterAttendant:"",search:"",timeout:null}},mounted(){this.load(),setInterval((()=>this.update()),6e4)},components:{BookingItem:$},watch:{hourValue(e){e&&this.load()},search(e){e?(this.hourValue="",this.loadSearch()):this.hourValue=8},shop(){this.load()}},computed:{attendants(){var e={};return e[0]={id:"",name:this.$t("allTitle")},this.bookingsList.forEach((t=>{t.services.forEach((t=>{t.assistant_id>0&&(e[t.assistant_id]={id:t.assistant_id,name:t.assistant_name})}))})),Object.values(e).length>1?Object.values(e):[]},filteredBookingsList(){return this.bookingsList.filter((e=>{var t=!1;return e.services.forEach((e=>{this.filterAttendant===e.assistant_id&&(t=!0)})),""===this.filterAttendant||t}))}},methods:{deleteItem(e){this.axios.delete("bookings/"+e).then((()=>{this.bookingsList=this.bookingsList.filter((t=>t.id!==e))}))},showDetails(e){this.$emit("showItem",e)},load(){this.isLoading=!0,this.bookingsList=[],this.axios.get("bookings/upcoming",{params:{hours:this.hourValue,shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items})).finally((()=>{this.isLoading=!1}))},loadSearch(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.isLoading=!0,this.bookingsList=[],this.axios.get("bookings",{params:{search:this.search,per_page:-1,order_by:"date_time",order:"asc",start_date:this.moment().format("YYYY-MM-DD"),shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items})).finally((()=>{this.isLoading=!1}))}),1e3)},update(){this.axios.get("bookings/upcoming",{params:{hours:this.hourValue,shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items}))}},emits:["showItem"]};const N=(0,E.Z)(V,[["render",g],["__scopeId","data-v-75d94dd6"]]);var F=N;const U=e=>((0,o.dD)("data-v-01fe14a2"),e=e(),(0,o.Cn)(),e),q={class:"booking-details-customer-info"},O={class:"date"},Z=U((()=>(0,o._)("br",null,null,-1))),G={class:"time"},K=U((()=>(0,o._)("br",null,null,-1))),J={class:"customer-firstname"},Q=["src"],X={class:"customer-lastname"},ee={class:"customer-email"},te={class:"customer-phone"},se={key:0,class:"customer-phone-actions"},ae=["href"],oe=["href"],ie=["href"],le={class:"customer-note"},ne={class:"booking-details-extra-info"},re={class:"booking-details-extra-info-header"},de={class:"booking-details-extra-info-header-title"},ue=["aria-expanded"],ce=U((()=>(0,o._)("br",null,null,-1))),me={class:"booking-details-total-info"},he={class:"service"},pe=["innerHTML"],ge=(0,o.Uk)("]"),be={class:"attendant"},fe={class:"total"},ve=["innerHTML"],we={class:"transaction-id"},ke={class:"discount"},_e={class:"deposit"},ye={class:"due"},Le={class:"booking-details-status-info"};function Se(e,t,s,i,n,r){const d=(0,o.up)("b-col"),u=(0,o.up)("font-awesome-icon"),c=(0,o.up)("b-row"),m=(0,o.up)("b-collapse"),h=(0,o.up)("b-button"),p=(0,o.up)("PayRemainingAmount");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",null,(0,l.zw)(e.$t("bookingDetailsTitle")),1),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",q,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"10"}),(0,o.Wm)(d,{sm:"2",class:"actions"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-circle-xmark",onClick:r.close},null,8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",O,[(0,o._)("span",null,(0,l.zw)(e.$t("dateTitle")),1),Z,(0,o.Wm)(u,{icon:"fa-solid fa-calendar-days"}),(0,o.Uk)(" "+(0,l.zw)(r.date),1)])])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",G,[(0,o._)("span",null,(0,l.zw)(e.$t("timeTitle")),1),K,(0,o.Wm)(u,{icon:"fa-regular fa-clock"}),(0,o.Uk)(" "+(0,l.zw)(r.time),1)])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",J,[(0,o.Uk)((0,l.zw)(r.customerFirstname)+" ",1),(0,o._)("div",{class:"images",onClick:t[0]||(t[0]=(0,a.iM)(((...e)=>r.showCustomerImages&&r.showCustomerImages(...e)),["prevent"]))},[r.photos.length>0?((0,o.wg)(),(0,o.iD)("img",{key:0,src:r.photos.length?r.photos[0]["url"]:"",class:"photo"},null,8,Q)):((0,o.wg)(),(0,o.j4)(u,{key:1,icon:"fa-solid fa-images"}))])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",X,(0,l.zw)(r.customerLastname),1)])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",ee,(0,l.zw)(r.customerEmail),1)])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",te,[(0,o.Uk)((0,l.zw)(r.customerPhone)+" ",1),r.customerPhone?((0,o.wg)(),(0,o.iD)("span",se,[(0,o._)("a",{href:"tel:"+r.customerPhone,class:"phone"},[(0,o.Wm)(u,{icon:"fa-solid fa-phone"})],8,ae),(0,o._)("a",{href:"sms:"+r.customerPhone,class:"sms"},[(0,o.Wm)(u,{icon:"fa-solid fa-message"})],8,oe),(0,o._)("a",{href:"https://wa.me/"+r.customerPhone,class:"whatsapp"},[(0,o.Wm)(u,{icon:"fa-brands fa-whatsapp"})],8,ie)])):(0,o.kq)("",!0)])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",le,(0,l.zw)(r.customerNote),1)])),_:1})])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",ne,[(0,o._)("div",re,[(0,o._)("div",de,(0,l.zw)(e.$t("extraInfoLabel")),1),(0,o._)("div",null,[(0,o._)("span",{class:(0,l.C_)(["booking-details-extra-info-header-btn",e.visibleExtraInfo?null:"collapsed"]),"aria-expanded":e.visibleExtraInfo?"true":"false","aria-controls":"collapse-2",onClick:t[1]||(t[1]=t=>e.visibleExtraInfo=!e.visibleExtraInfo)},[e.visibleExtraInfo?((0,o.wg)(),(0,o.j4)(u,{key:1,icon:"fa-solid fa-circle-chevron-up"})):((0,o.wg)(),(0,o.j4)(u,{key:0,icon:"fa-solid fa-circle-chevron-down"}))],10,ue)])]),(0,o.Wm)(m,{id:"collapse-2",class:"booking-details-extra-info-fields",modelValue:e.visibleExtraInfo,"onUpdate:modelValue":t[2]||(t[2]=t=>e.visibleExtraInfo=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.customFieldsList,(e=>((0,o.wg)(),(0,o.j4)(c,{key:e.key,class:"booking-details-extra-info-field-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.label)+":",1),ce,(0,o._)("strong",null,(0,l.zw)(e.value),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",me,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.services,((e,t)=>((0,o.wg)(),(0,o.j4)(c,{key:t},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",he,[(0,o._)("strong",null,[(0,o.Uk)((0,l.zw)(e.service_name)+" [",1),(0,o._)("span",{innerHTML:e.service_price+s.booking.currency},null,8,pe),ge])])])),_:2},1024),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",be,(0,l.zw)(e.assistant_name),1)])),_:2},1024)])),_:2},1024)))),128)),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",fe,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("strong",null,(0,l.zw)(e.$t("totalTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("strong",null,[(0,o._)("span",{innerHTML:r.totalSum},null,8,ve)])])),_:1})])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",we,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("transactionIdTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(r.transactionId.join(", ")),1)])),_:1})])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",ke,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("discountTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6",innerHTML:r.discount},null,8,["innerHTML"])])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",_e,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("depositTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6",innerHTML:r.deposit},null,8,["innerHTML"])])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",ye,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("dueTitle")),1)])),_:1}),(0,o.Wm)(d,{sm:"6",innerHTML:r.due},null,8,["innerHTML"])])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"})])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Le,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6",class:"status"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(r.status),1)])),_:1}),(0,o.Wm)(d,{sm:"6",class:"booking-details-actions"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{variant:"primary",onClick:r.edit},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-pen-to-square"}),(0,o.Uk)(" "+(0,l.zw)(e.$t("editButtonLabel")),1)])),_:1},8,["onClick"]),(0,o.Wm)(p,{booking:s.booking},null,8,["booking"])])),_:1})])),_:1})])])),_:1})])),_:1})],512)),[[a.F8,e.show]])}var Te={name:"BookingDetails",props:{booking:{default:function(){return{}}}},computed:{date(){return this.dateFormat(this.bookingData.date)},time(){return this.timeFormat(this.bookingData.time)},customerFirstname(){return this.bookingData.customer_first_name},customerLastname(){return this.bookingData.customer_last_name},customerEmail(){return this.bookingData.customer_email},customerPhone(){return this.bookingData.customer_phone?this.bookingData.customer_phone_country_code+this.bookingData.customer_phone:""},customerNote(){return this.bookingData.note},services(){return this.bookingData.services},totalSum(){return this.bookingData.amount+this.bookingData.currency},transactionId(){return this.bookingData.transaction_id},discount(){return this.bookingData.discounts_details.length>0?this.bookingData.discounts_details.map((e=>e.name+" ("+e.amount_string+")")).join(", "):"-"},deposit(){return+this.bookingData.deposit>0?this.bookingData.deposit+this.bookingData.currency:"-"},due(){return+this.bookingData.amount-+this.bookingData.deposit+this.bookingData.currency},status(){return this.$root.statusesList[this.booking.status].label},customFieldsList(){return this.bookingData.custom_fields.filter((e=>-1===["html","file"].indexOf(e.type)))},photos(){return this.bookingData.customer_photos}},mounted(){this.toggleShow(),setInterval((()=>this.update()),6e4)},components:{PayRemainingAmount:H},data:function(){return{show:!0,visibleExtraInfo:!1,bookingData:this.booking}},methods:{close(){this.$emit("close")},edit(){this.$emit("edit")},toggleShow(){this.show=!1,setTimeout((()=>{this.show=!0}),0)},update(){this.axios.get("bookings/"+this.bookingData.id).then((e=>{this.bookingData=e.data.items[0]}))},showCustomerImages(){this.$emit("showCustomerImages",{id:this.bookingData.customer_id,photos:this.photos})}},emits:["close","edit","showCustomerImages"]};const Ce=(0,E.Z)(Te,[["render",Se],["__scopeId","data-v-01fe14a2"]]);var Ae=Ce;function De(e,t,s,i,n,r){const d=(0,o.up)("EditBooking");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",null,(0,l.zw)(e.$t("editReservationTitle")),1),(0,o.Wm)(d,{bookingID:s.booking.id,date:s.booking.date,time:s.booking.time,customerID:s.customer?s.customer.id:s.booking.customer_id,customerFirstname:s.customer?s.customer.first_name:s.booking.customer_first_name,customerLastname:s.customer?s.customer.last_name:s.booking.customer_last_name,customerEmail:s.customer?s.customer.email:s.booking.customer_email,customerPhone:s.customer?s.customer.phone:s.booking.customer_phone,customerAddress:s.customer?s.customer.address:s.booking.customer_address,customerNotes:s.customer?s.customer.note:s.booking.note,services:s.booking.services,discounts:s.booking.discounts,status:s.booking.status,isLoading:e.isLoading,isSaved:e.isSaved,isError:e.isError,errorMessage:e.errorMessage,customFields:s.booking.custom_fields,shop:s.booking.shop,onClose:r.close,onChooseCustomer:r.chooseCustomer,onSave:r.save},null,8,["bookingID","date","time","customerID","customerFirstname","customerLastname","customerEmail","customerPhone","customerAddress","customerNotes","services","discounts","status","isLoading","isSaved","isError","errorMessage","customFields","shop","onClose","onChooseCustomer","onSave"])],512)),[[a.F8,e.show]])}const We=e=>((0,o.dD)("data-v-f18f55fc"),e=e(),(0,o.Cn)(),e),Pe={class:"booking-details-customer-info"},Ie={class:"date"},Be={class:"time"},je=["onClick"],ze={class:"select-existing-client"},xe={class:"customer-firstname"},Ee={class:"customer-lastname"},Me={class:"customer-email"},He={class:"customer-address"},Re={class:"customer-phone"},Ye={class:"customer-notes"},$e={class:"save-as-new-customer"},Ve={class:"booking-details-extra-info"},Ne={class:"booking-details-extra-info-header"},Fe={class:"booking-details-extra-info-header-title"},Ue=["aria-expanded"],qe={class:"booking-details-total-info"},Oe={class:"service"},Ze={key:0,class:"option-item option-item-selected"},Ge={class:"name"},Ke={key:0},Je={class:"service-name"},Qe={class:"info"},Xe={class:"price"},et=["innerHTML"],tt=We((()=>(0,o._)("span",null," | ",-1))),st={class:"option-item"},at={class:"availability-wrapper"},ot={class:"name"},it={key:0},lt={class:"service-name"},nt={class:"info"},rt={class:"price"},dt=["innerHTML"],ut=We((()=>(0,o._)("span",null," | ",-1))),ct={class:"vue-select-search"},mt={class:"attendant"},ht={key:0,class:"option-item option-item-selected"},pt={class:"name"},gt={class:"option-item"},bt={class:"availability-wrapper"},ft={class:"name"},vt={class:"vue-select-search"},wt={class:"add-service"},kt={class:"add-service-required"},_t={class:"booking-discount-info"},yt={class:"discount"},Lt={class:"booking-details-status-info"};function St(e,t,s,i,n,r){const d=(0,o.up)("b-col"),u=(0,o.up)("font-awesome-icon"),c=(0,o.up)("b-row"),m=(0,o.up)("b-input-group-text"),h=(0,o.up)("Datepicker"),p=(0,o.up)("b-input-group"),g=(0,o.up)("b-form-input"),b=(0,o.up)("b-button"),f=(0,o.up)("b-form-textarea"),v=(0,o.up)("b-form-checkbox"),w=(0,o.up)("CustomField"),k=(0,o.up)("b-collapse"),_=(0,o.up)("vue-select"),y=(0,o.up)("b-spinner"),L=(0,o.up)("b-alert"),S=(0,o.up)("b-form-select");return(0,o.wg)(),(0,o.iD)("div",{onClick:t[18]||(t[18]=t=>e.showTimeslots=!1)},[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Pe,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"10"}),(0,o.Wm)(d,{sm:"2",class:"actions"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-circle-xmark",onClick:r.close},null,8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",Ie,[(0,o._)("span",null,(0,l.zw)(e.$t("dateTitle")),1),(0,o.Wm)(p,null,{prepend:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-calendar-days"})])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(h,{format:"yyyy-MM-dd",modelValue:e.elDate,"onUpdate:modelValue":t[0]||(t[0]=t=>e.elDate=t),"auto-apply":!0,"text-input":!0,"hide-input-icon":!0,clearable:!1,class:(0,l.C_)({required:e.requiredFields.indexOf("date")>-1})},null,8,["modelValue","class"])])),_:1})])])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",Be,[(0,o._)("span",null,(0,l.zw)(e.$t("timeTitle")),1),(0,o.Wm)(p,null,{prepend:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-regular fa-clock"})])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:e.elTime,"onUpdate:modelValue":t[1]||(t[1]=t=>e.elTime=t),onClick:t[2]||(t[2]=(0,a.iM)((t=>e.showTimeslots=!e.showTimeslots),["stop"])),class:(0,l.C_)(["timeslot-input",{required:e.requiredFields.indexOf("time")>-1}])},null,8,["modelValue","class"]),(0,o._)("div",{class:(0,l.C_)(["timeslots",{hide:!this.showTimeslots}]),onClick:t[3]||(t[3]=(0,a.iM)((()=>{}),["stop"]))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.timeslots,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e,class:(0,l.C_)(["timeslot",{free:r.freeTimeslots.indexOf(this.moment(e,this.getTimeFormat()).format("HH:mm"))>-1}]),onClick:t=>r.setTime(e)},(0,l.zw)(e),11,je)))),128))],2)])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",ze,[(0,o.Wm)(b,{variant:"primary",onClick:r.chooseCustomer},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-users"}),(0,o.Uk)(" "+(0,l.zw)(e.$t("selectExistingClientButtonLabel")),1)])),_:1},8,["onClick"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",xe,[(0,o.Wm)(g,{placeholder:e.$t("customerFirstnamePlaceholder"),modelValue:e.elCustomerFirstname,"onUpdate:modelValue":t[4]||(t[4]=t=>e.elCustomerFirstname=t),class:(0,l.C_)({required:e.requiredFields.indexOf("customer_first_name")>-1})},null,8,["placeholder","modelValue","class"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Ee,[(0,o.Wm)(g,{placeholder:e.$t("customerLastnamePlaceholder"),modelValue:e.elCustomerLastname,"onUpdate:modelValue":t[5]||(t[5]=t=>e.elCustomerLastname=t)},null,8,["placeholder","modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Me,[(0,o.Wm)(g,{placeholder:e.$t("customerEmailPlaceholder"),modelValue:e.elCustomerEmail,"onUpdate:modelValue":t[6]||(t[6]=t=>e.elCustomerEmail=t)},null,8,["placeholder","modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",He,[(0,o.Wm)(g,{placeholder:e.$t("customerAddressPlaceholder"),modelValue:e.elCustomerAddress,"onUpdate:modelValue":t[7]||(t[7]=t=>e.elCustomerAddress=t)},null,8,["placeholder","modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Re,[(0,o.Wm)(g,{placeholder:e.$t("customerPhonePlaceholder"),modelValue:e.elCustomerPhone,"onUpdate:modelValue":t[8]||(t[8]=t=>e.elCustomerPhone=t)},null,8,["placeholder","modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Ye,[(0,o.Wm)(f,{modelValue:e.elCustomerNotes,"onUpdate:modelValue":t[9]||(t[9]=t=>e.elCustomerNotes=t),placeholder:e.$t("customerNotesPlaceholder"),rows:"3","max-rows":"6"},null,8,["modelValue","placeholder"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",$e,[(0,o.Wm)(v,{modelValue:e.saveAsNewCustomer,"onUpdate:modelValue":t[10]||(t[10]=t=>e.saveAsNewCustomer=t),switch:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("saveAsNewCustomerLabel")),1)])),_:1},8,["modelValue"])])])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Ve,[(0,o._)("div",Ne,[(0,o._)("div",Fe,(0,l.zw)(e.$t("extraInfoLabel")),1),(0,o._)("div",null,[(0,o._)("span",{class:(0,l.C_)(["booking-details-extra-info-header-btn",e.visibleExtraInfo?null:"collapsed"]),"aria-expanded":e.visibleExtraInfo?"true":"false","aria-controls":"collapse-2",onClick:t[11]||(t[11]=t=>e.visibleExtraInfo=!e.visibleExtraInfo)},[e.visibleExtraInfo?((0,o.wg)(),(0,o.j4)(u,{key:1,icon:"fa-solid fa-circle-chevron-up"})):((0,o.wg)(),(0,o.j4)(u,{key:0,icon:"fa-solid fa-circle-chevron-down"}))],10,Ue)])]),(0,o.Wm)(k,{id:"collapse-2",class:"mt-2",modelValue:e.visibleExtraInfo,"onUpdate:modelValue":t[12]||(t[12]=t=>e.visibleExtraInfo=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.customFieldsList,(e=>((0,o.wg)(),(0,o.j4)(w,{key:e.key,field:e,value:r.getCustomFieldValue(e.key,e.default_value),onUpdate:r.updateCustomField},null,8,["field","value","onUpdate"])))),128))])),_:1},8,["modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",qe,[e.isLoadingServicesAssistants?(0,o.kq)("",!0):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(e.elServices,((s,i)=>((0,o.wg)(),(0,o.j4)(c,{key:i,class:"service-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"5"},{default:(0,o.w5)((()=>[(0,o._)("div",Oe,[(0,o.Wm)(_,{ref_for:!0,ref:"select-service",class:(0,l.C_)(["service-select",{required:e.requiredFields.indexOf("services_service_"+i)>-1}]),"close-on-select":"",modelValue:s.service_id,"onUpdate:modelValue":e=>s.service_id=e,options:r.getServicesListBySearch(r.servicesList,e.serviceSearch[i]),"label-by":"[serviceName, price, duration, category]","value-by":"value"},{label:(0,o.w5)((({selected:t})=>[t?((0,o.wg)(),(0,o.iD)("div",Ze,[(0,o._)("div",Ge,[(0,o._)("span",null,(0,l.zw)(t.category),1),t.category?((0,o.wg)(),(0,o.iD)("span",Ke," | ")):(0,o.kq)("",!0),(0,o._)("span",Je,(0,l.zw)(t.serviceName),1)]),(0,o._)("div",Qe,[(0,o._)("div",Xe,[(0,o._)("span",null,(0,l.zw)(t.price),1),(0,o._)("span",{innerHTML:t.currency},null,8,et),tt,(0,o._)("span",null,(0,l.zw)(t.duration),1)])])])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,l.zw)(e.$t("selectServicesPlaceholder")),1)],64))])),"dropdown-item":(0,o.w5)((({option:e})=>[(0,o._)("div",st,[(0,o._)("div",at,[(0,o._)("div",{class:(0,l.C_)(["availability",{available:e.available}])},null,2),(0,o._)("div",ot,[(0,o._)("span",null,(0,l.zw)(e.category),1),e.category?((0,o.wg)(),(0,o.iD)("span",it," | ")):(0,o.kq)("",!0),(0,o._)("span",lt,(0,l.zw)(e.serviceName),1)])]),(0,o._)("div",nt,[(0,o._)("div",rt,[(0,o._)("span",null,(0,l.zw)(e.price),1),(0,o._)("span",{innerHTML:e.currency},null,8,dt),ut,(0,o._)("span",null,(0,l.zw)(e.duration),1)])])])])),_:2},1032,["modelValue","onUpdate:modelValue","options","class"]),(0,o._)("li",ct,[(0,o.Wm)(u,{icon:"fa-solid fa-magnifying-glass",class:"vue-select-search-icon"}),(0,o.Wm)(g,{modelValue:e.serviceSearch[i],"onUpdate:modelValue":t=>e.serviceSearch[i]=t,class:"vue-select-search-input",placeholder:e.$t("selectServicesSearchPlaceholder"),onMousedown:t[13]||(t[13]=(0,a.iM)((()=>{}),["stop"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])])])])),_:2},1024),r.isShowAttendant(s)?((0,o.wg)(),(0,o.j4)(d,{key:0,sm:"5"},{default:(0,o.w5)((()=>[(0,o._)("div",mt,[(0,o.Wm)(_,{ref_for:!0,ref:"select-assistant",class:(0,l.C_)(["service-select",{required:e.requiredFields.indexOf("services_assistant_"+i)>-1}]),"close-on-select":"",modelValue:s.assistant_id,"onUpdate:modelValue":e=>s.assistant_id=e,options:r.getAttendantsListBySearch(r.attendantsList,e.assistantSearch[i]),"label-by":"text","value-by":"value",onFocus:e=>r.loadAvailabilityAttendants(s.service_id)},{label:(0,o.w5)((({selected:t})=>[t?((0,o.wg)(),(0,o.iD)("div",ht,[(0,o._)("div",pt,[(0,o._)("span",null,(0,l.zw)(t.text),1)])])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,l.zw)(e.$t("selectAttendantsPlaceholder")),1)],64))])),"dropdown-item":(0,o.w5)((({option:e})=>[(0,o._)("div",gt,[(0,o._)("div",bt,[(0,o._)("div",{class:(0,l.C_)(["availability",{available:e.available}])},null,2),(0,o._)("div",ft,(0,l.zw)(e.text),1)])])])),_:2},1032,["modelValue","onUpdate:modelValue","options","class","onFocus"]),(0,o._)("li",vt,[(0,o.Wm)(u,{icon:"fa-solid fa-magnifying-glass",class:"vue-select-search-icon"}),(0,o.Wm)(g,{modelValue:e.assistantSearch[i],"onUpdate:modelValue":t=>e.assistantSearch[i]=t,class:"vue-select-search-input",placeholder:e.$t("selectAssistantsSearchPlaceholder"),onMousedown:t[14]||(t[14]=(0,a.iM)((()=>{}),["stop"]))},null,8,["modelValue","onUpdate:modelValue","placeholder"])])])])),_:2},1024)):(0,o.kq)("",!0),(0,o.Wm)(d,{sm:"2",class:"service-row-delete"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-circle-xmark",onClick:e=>r.deleteService(i)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6",class:"add-service-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("div",wt,[(0,o.Wm)(b,{variant:"primary",onClick:r.addService,disabled:e.isLoadingServicesAssistants},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-plus"}),(0,o.Uk)(" "+(0,l.zw)(e.$t("addServiceButtonLabel")),1)])),_:1},8,["onClick","disabled"]),e.isLoadingServicesAssistants?((0,o.wg)(),(0,o.j4)(y,{key:0,variant:"primary",class:"services-assistants-loader"})):(0,o.kq)("",!0)]),(0,o._)("div",kt,[(0,o.Wm)(L,{show:e.requiredFields.indexOf("services")>-1,fade:"",variant:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("addServiceMessage")),1)])),_:1},8,["show"])])])),_:1})])),_:1})])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",_t,[(0,o.Wm)(b,{class:(0,l.C_)(e.visibleDiscountInfo?null:"collapsed"),"aria-expanded":e.visibleDiscountInfo?"true":"false","aria-controls":"collapse-1",onClick:t[15]||(t[15]=t=>e.visibleDiscountInfo=!e.visibleDiscountInfo),variant:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("addAndManageDiscountButtonLabel"))+" ",1),e.visibleDiscountInfo?((0,o.wg)(),(0,o.j4)(u,{key:1,icon:"fa-solid fa-circle-chevron-up"})):((0,o.wg)(),(0,o.j4)(u,{key:0,icon:"fa-solid fa-circle-chevron-down"}))])),_:1},8,["class","aria-expanded"]),(0,o.Wm)(k,{id:"collapse-1",class:"mt-2",modelValue:e.visibleDiscountInfo,"onUpdate:modelValue":t[16]||(t[16]=t=>e.visibleDiscountInfo=t)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.elDiscounts,((t,s)=>((0,o.wg)(),(0,o.j4)(c,{key:t,class:"discount-row"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o._)("div",yt,[(0,o._)("label",null,(0,l.zw)(e.$t("selectDiscountLabel")),1),(0,o.Wm)(S,{modelValue:e.elDiscounts[s],"onUpdate:modelValue":t=>e.elDiscounts[s]=t,options:r.discountsList},null,8,["modelValue","onUpdate:modelValue","options"])])])),_:2},1024),(0,o.Wm)(d,{sm:"6",class:"discount-row-delete"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-circle-xmark",onClick:e=>r.deleteDiscount(s)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{variant:"primary",onClick:r.addDiscount},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-plus"}),(0,o.Uk)(" "+(0,l.zw)(e.$t("addDiscountButtonLabel")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Lt,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6",class:"status"},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{modelValue:e.elStatus,"onUpdate:modelValue":t[17]||(t[17]=t=>e.elStatus=t),options:r.statusesList},null,8,["modelValue","options"])])),_:1}),(0,o.Wm)(d,{sm:"6"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"6",class:"save-button-wrapper"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{variant:"primary",onClick:r.save},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-check"}),(0,o.Uk)(" "+(0,l.zw)(e.$t("saveButtonLabel")),1)])),_:1},8,["onClick"])])),_:1}),(0,o.Wm)(d,{sm:"6",class:"save-button-result-wrapper"},{default:(0,o.w5)((()=>[s.isLoading?((0,o.wg)(),(0,o.j4)(y,{key:0,variant:"primary"})):(0,o.kq)("",!0),(0,o.Wm)(L,{show:s.isSaved,fade:"",variant:"success"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("savedLabel")),1)])),_:1},8,["show"]),(0,o.Wm)(L,{show:s.isError,fade:"",variant:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(s.errorMessage),1)])),_:1},8,["show"]),(0,o.Wm)(L,{show:!e.isValid,fade:"",variant:"danger"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("validationMessage")),1)])),_:1},8,["show"])])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])}const Tt=["for"],Ct=["for"],At=["for"];function Dt(e,t,s,a,i,n){const r=(0,o.up)("b-form-input"),d=(0,o.up)("b-form-textarea"),u=(0,o.up)("b-form-checkbox"),c=(0,o.up)("b-form-select"),m=(0,o.up)("b-col"),h=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(h,{class:"field"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{sm:"12"},{default:(0,o.w5)((()=>["text"===n.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(r,{modelValue:e.elValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.elValue=t),modelModifiers:{lazy:!0},id:n.key},null,8,["modelValue","id"]),(0,o._)("label",{class:"label",for:n.key},(0,l.zw)(n.label),9,Tt)],64)):(0,o.kq)("",!0),"textarea"===n.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(d,{modelValue:e.elValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.elValue=t),modelModifiers:{lazy:!0},id:n.key},null,8,["modelValue","id"]),(0,o._)("label",{class:"label",for:n.key},(0,l.zw)(n.label),9,Ct)],64)):(0,o.kq)("",!0),"checkbox"===n.type?((0,o.wg)(),(0,o.j4)(u,{key:2,modelValue:e.elValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.elValue=t),id:n.key},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(n.label),1)])),_:1},8,["modelValue","id"])):(0,o.kq)("",!0),"select"===n.type?((0,o.wg)(),(0,o.iD)(o.HY,{key:3},[(0,o.Wm)(c,{modelValue:e.elValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.elValue=t),id:n.key,options:n.options},null,8,["modelValue","id","options"]),(0,o._)("label",{class:"label",for:n.key},(0,l.zw)(n.label),9,At)],64)):(0,o.kq)("",!0)])),_:1})])),_:1})}var Wt={name:"CustomField",props:{field:{default:function(){return{}}},value:{default:function(){return""}}},mounted(){this.update()},data:function(){let e=this.value;return"checkbox"===this.field.type&&(e=!!e),{elValue:e}},watch:{elValue(){this.update()}},computed:{key(){return this.field.key},type(){return this.field.type},label(){return this.field.label},options(){return this.field.options.map((e=>({value:e.value,text:e.label})))}},methods:{update(){this.$emit("update",this.key,this.elValue)}},emits:["update"]};const Pt=(0,E.Z)(Wt,[["render",Dt],["__scopeId","data-v-19833334"]]);var It=Pt,Bt={name:"EditBooking",props:{bookingID:{default:function(){return""}},date:{default:function(){return""}},time:{default:function(){return""}},customerID:{default:function(){return""}},customerFirstname:{default:function(){return""}},customerLastname:{default:function(){return""}},customerEmail:{default:function(){return""}},customerAddress:{default:function(){return""}},customerPhone:{default:function(){return""}},customerNotes:{default:function(){return""}},services:{default:function(){return[]}},discounts:{default:function(){return[]}},status:{default:function(){return""}},isLoading:{default:function(){return!1}},isSaved:{default:function(){return!1}},isError:{default:function(){return!1}},errorMessage:{default:function(){return""}},customFields:{default:function(){return[]}},shop:{default:function(){return{}}}},mounted(){this.loadDiscounts(),this.loadAvailabilityIntervals(),this.loadAvailabilityServices(),this.loadCustomFields(),this.isLoadingServicesAssistants=!0,Promise.all([this.loadServices(),this.loadAttendants(),this.loadServicesCategory()]).then((()=>{this.isLoadingServicesAssistants=!1,this.elServices.forEach(((e,t)=>{this.addServicesSelectSearchInput(t),this.addAssistantsSelectSearchInput(t)}))}))},data:function(){return{elDate:this.date,elTime:this.timeFormat(this.time),elCustomerFirstname:this.customerFirstname,elCustomerLastname:this.customerLastname,elCustomerEmail:this.customerEmail,elCustomerAddress:this.customerAddress,elCustomerPhone:this.customerPhone,elCustomerNotes:this.customerNotes,elServices:[...this.services].map((e=>({service_id:e.service_id,assistant_id:e.assistant_id}))),elDiscounts:[...this.discounts],elStatus:this.status,visibleDiscountInfo:!1,elDiscountsList:[],elServicesList:[],elServicesNameList:[],elAttendantsList:[],showTimeslots:!1,availabilityIntervals:{},saveAsNewCustomer:!1,availabilityServices:[],serviceSearch:[],isValid:!0,requiredFields:[],visibleExtraInfo:!1,customFieldsList:[],elCustomFields:this.customFields,isLoadingServicesAssistants:!1,assistantSearch:[],availabilityAttendants:[]}},watch:{elDate(){this.loadAvailabilityIntervals(),this.loadAvailabilityServices()},elTime(){this.loadAvailabilityServices()},shop(){this.loadAvailabilityIntervals(),this.loadAvailabilityServices(),this.isLoadingServicesAssistants=!0,Promise.all([this.loadServices(),this.loadAttendants()]).then((()=>{this.isLoadingServicesAssistants=!1,this.elServices.forEach(((e,t)=>{this.addServicesSelectSearchInput(t),this.addAssistantsSelectSearchInput(t)}))}))}},computed:{statusesList(){var e=[];for(var t in this.$root.statusesList)e.push({value:t,text:this.$root.statusesList[t].label});return e},discountsList(){var e=[];return this.elDiscountsList.forEach((t=>{e.push({value:t.id,text:t.name})})),e},servicesList(){var e=[];return this.elServicesList.forEach((t=>{let s=[];t.categories.forEach((e=>{let t=this.elServicesNameList.find((t=>t.id===e));t&&s.push(t.name)}));let a=!1,o=this.availabilityServices.find((e=>e.id===t.id));o&&(a=o.available),e.push({value:t.id,price:t.price,duration:t.duration,currency:t.currency,serviceName:t.name,category:s.join(", "),empty_assistants:t.empty_assistants,available:a})})),e},attendantsList(){var e=[];return this.elAttendantsList.forEach((t=>{let s=!1,a=this.availabilityAttendants.find((e=>e.id===t.id));a&&(s=a.available),e.push({value:t.id,text:t.name,available:s})})),e},timeslots(){var e=this.availabilityIntervals.workTimes?Object.values(this.availabilityIntervals.workTimes):[];return e.map((e=>this.timeFormat(e)))},freeTimeslots(){return this.availabilityIntervals.times?Object.values(this.availabilityIntervals.times):[]},showAttendant(){return"undefined"===typeof this.$root.settings.attendant_enabled||this.$root.settings.attendant_enabled},bookingServices(){return JSON.parse(JSON.stringify(this.elServices)).map((e=>(e.assistant_id?e.assistant_id:e.assistant_id=0,e)))}},methods:{close(){this.$emit("close")},chooseCustomer(){this.$emit("chooseCustomer")},save(){if(this.isValid=this.validate(),this.isValid){var e={date:this.moment(this.elDate).format("YYYY-MM-DD"),time:this.moment(this.elTime,this.getTimeFormat()).format("HH:mm"),status:this.elStatus,customer_id:this.customerID?this.customerID:0,customer_first_name:this.elCustomerFirstname,customer_last_name:this.elCustomerLastname,customer_email:this.elCustomerEmail,customer_phone:this.elCustomerPhone,customer_address:this.elCustomerAddress,services:this.bookingServices,discounts:this.elDiscounts,note:this.elCustomerNotes,save_as_new_customer:this.saveAsNewCustomer,custom_fields:this.elCustomFields};this.shop&&(e["shop"]={id:this.shop.id}),this.$emit("save",e)}},loadDiscounts(){this.axios.get("discounts").then((e=>{this.elDiscountsList=e.data.items}))},loadServices(){return this.axios.get("services",{params:{per_page:-1,shop:this.shop?this.shop.id:null}}).then((e=>{this.elServicesList=e.data.items}))},loadServicesCategory(){return this.axios.get("services/categories").then((e=>{this.elServicesNameList=e.data.items}))},loadAttendants(){return this.axios.get("assistants",{params:{shop:this.shop?this.shop.id:null}}).then((e=>{this.elAttendantsList=e.data.items}))},loadAvailabilityIntervals(){this.axios.post("availability/intervals",{date:this.moment(this.elDate).format("YYYY-MM-DD"),time:this.moment(this.elTime,this.getTimeFormat()).format("HH:mm"),shop:this.shop?this.shop.id:0}).then((e=>{this.availabilityIntervals=e.data.intervals}))},loadAvailabilityServices(){this.axios.post("availability/booking/services",{date:this.moment(this.elDate).format("YYYY-MM-DD"),time:this.moment(this.elTime,this.getTimeFormat()).format("HH:mm"),booking_id:this.bookingID?this.bookingID:0,is_all_services:!0,services:this.bookingServices.filter((e=>e.service_id)),shop:this.shop?this.shop.id:0}).then((e=>{this.availabilityServices=e.data.services}))},loadAvailabilityAttendants(e){this.axios.post("availability/booking/assistants",{date:this.moment(this.elDate).format("YYYY-MM-DD"),time:this.moment(this.elTime,this.getTimeFormat()).format("HH:mm"),booking_id:this.bookingID?this.bookingID:0,selected_service_id:e||0,services:this.bookingServices.filter((e=>e.service_id)),shop:this.shop?this.shop.id:0}).then((e=>{this.availabilityAttendants=e.data.assistants}))},loadCustomFields(){this.axios.get("custom-fields/booking").then((e=>{this.customFieldsList=e.data.items.filter((e=>-1===["html","file"].indexOf(e.type)))}))},addDiscount(){this.elDiscounts.push(0)},deleteDiscount(e){this.elDiscounts.splice(e,1)},addService(){this.elServices.push({service_id:null,assistant_id:null}),this.addServicesSelectSearchInput(this.elServices.length-1),this.addAssistantsSelectSearchInput(this.elServices.length-1)},deleteService(e){this.elServices.splice(e,1),this.serviceSearch.splice(e,1)},setTime(e){this.elTime=e,this.showTimeslots=!1},getServicesListBySearch(e,t){return t?e.filter((e=>new RegExp(t,"ig").test([e.category,e.serviceName,e.price,e.duration].join("")))):e},validate(){return this.requiredFields=[],this.elDate||this.requiredFields.push("date"),this.elTime.trim()||this.requiredFields.push("time"),this.elCustomerFirstname.trim()||this.requiredFields.push("customer_first_name"),this.bookingServices.length||this.requiredFields.push("services"),this.bookingServices.forEach(((e,t)=>{e.service_id||this.requiredFields.push("services_service_"+t),this.isShowAttendant(e)&&!e.assistant_id&&this.requiredFields.push("services_assistant_"+t)})),0===this.requiredFields.length},isShowAttendant(e){let t=this.servicesList.find((t=>t.value===e.service_id));return t?this.showAttendant&&(!e.service_id||t&&!t.empty_assistants):this.showAttendant},updateCustomField(e,t){let s=this.elCustomFields.find((t=>t.key===e));s?s.value=t:this.elCustomFields.push({key:e,value:t})},getCustomFieldValue(e,t){let s=this.elCustomFields.find((t=>t.key===e));return s?s.value:t},addServicesSelectSearchInput(e){this.serviceSearch.push(""),setTimeout((()=>{window.document.querySelectorAll(".service .vue-dropdown")[e].prepend(window.document.querySelectorAll(".service .vue-select-search")[e]);let t=this.$refs["select-service"][e],s=t.blur;t.blur=()=>{};let a=t.focus,o=window.document.querySelectorAll(".service .vue-select-search-input")[e];t.focus=()=>{a(),setTimeout((()=>{o.focus()}),0)},o.addEventListener("blur",(()=>{s(),this.serviceSearch[e]=""}))}),0)},addAssistantsSelectSearchInput(e){this.assistantSearch.push(""),setTimeout((()=>{window.document.querySelectorAll(".attendant .vue-dropdown")[e].prepend(window.document.querySelectorAll(".attendant .vue-select-search")[e]);let t=this.$refs["select-assistant"][e],s=t.blur;t.blur=()=>{};let a=t.focus,o=window.document.querySelectorAll(".attendant .vue-select-search-input")[e];t.focus=()=>{a(),setTimeout((()=>{o.focus()}),0)},o.addEventListener("blur",(()=>{s(),this.assistantSearch[e]=""}))}),0)},getAttendantsListBySearch(e,t){return t?e.filter((e=>new RegExp(t,"ig").test([e.text].join("")))):e}},emits:["close","chooseCustomer","save"],components:{CustomField:It}};const jt=(0,E.Z)(Bt,[["render",St],["__scopeId","data-v-f18f55fc"]]);var zt=jt,xt={name:"EditBookingItem",props:{booking:{default:function(){return{}}},customer:{default:function(){return{}}}},components:{EditBooking:zt},mounted(){this.toggleShow()},data:function(){return{isLoading:!1,isSaved:!1,show:!0}},methods:{close(e){this.$emit("close",e)},chooseCustomer(){this.$emit("chooseCustomer")},save(e){this.isLoading=!0,this.axios.put("bookings/"+this.booking.id,e).then((e=>{this.isSaved=!0,setTimeout((()=>{this.isSaved=!1}),3e3),this.axios.get("bookings/"+e.data.id).then((e=>{this.close(e.data.items[0])}))}),(e=>{this.isError=!0,this.errorMessage=e.response.data.message,setTimeout((()=>{this.isError=!1,this.errorMessage=""}),3e3)})).finally((()=>{this.isLoading=!1}))},toggleShow(){this.show=!1,setTimeout((()=>{this.show=!0}),0)}},emits:["close","chooseCustomer"]};const Et=(0,E.Z)(xt,[["render",De]]);var Mt=Et;const Ht={class:"title"},Rt={class:"search"},Yt={class:"filters"},$t={class:"customers-list"},Vt={key:2,class:"no-result"};function Nt(e,t,s,a,i,n){const r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-form-input"),u=(0,o.up)("b-button"),c=(0,o.up)("b-col"),m=(0,o.up)("b-row"),h=(0,o.up)("b-spinner"),p=(0,o.up)("CustomerItem");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",Ht,(0,l.zw)(e.$t("customersAddressBookTitle")),1),(0,o._)("div",Rt,[(0,o.Wm)(r,{icon:"fa-solid fa-magnifying-glass",class:"search-icon"}),(0,o.Wm)(d,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),class:"search-input"},null,8,["modelValue"]),e.search?((0,o.wg)(),(0,o.j4)(r,{key:0,icon:"fa-solid fa-circle-xmark",class:"clear",onClick:t[1]||(t[1]=t=>e.search="")})):(0,o.kq)("",!0)]),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Yt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.filters,(t=>((0,o.wg)(),(0,o.j4)(u,{variant:"outline-primary",key:t.value,onClick:s=>e.searchFilter=t.value,pressed:e.searchFilter===t.value},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.label),1)])),_:2},1032,["onClick","pressed"])))),128))])])),_:1})])),_:1}),(0,o._)("div",$t,[e.isLoading?((0,o.wg)(),(0,o.j4)(h,{key:0,variant:"primary"})):e.customersList.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(e.customersList,(e=>((0,o.wg)(),(0,o.j4)(p,{key:e.id,customer:e,chooseCustomerAvailable:s.chooseCustomerAvailable,onChoose:t=>n.choose(e),onShowImages:n.showImages},null,8,["customer","chooseCustomerAvailable","onChoose","onShowImages"])))),128)):((0,o.wg)(),(0,o.iD)("span",Vt,(0,l.zw)(e.$t("customersAddressBookNoResultLabel")),1))]),s.chooseCustomerAvailable?((0,o.wg)(),(0,o.j4)(u,{key:0,variant:"primary",class:"go-back",onClick:n.closeChooseCustomer},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("goBackButtonLabel")),1)])),_:1},8,["onClick"])):(0,o.kq)("",!0)])}const Ft={class:"customer"},Ut={class:"customer-first-last-name-wrapper"},qt={class:"customer-firstname"},Ot={class:"customer-lastname"},Zt={class:"customer-email"},Gt={key:0,class:"customer-phone"},Kt={class:"total-order-sum"},Jt=["innerHTML"],Qt={class:"total-order-count"},Xt={class:"wrapper"},es={key:0,class:"button-choose"},ts=["src"],ss={class:"customer-phone-wrapper"},as={key:0},os=["href"],is=["href"],ls=["href"];function ns(e,t,s,i,n,r){const d=(0,o.up)("b-col"),u=(0,o.up)("font-awesome-icon"),c=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Ft,[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"8",class:"customer-info"},{default:(0,o.w5)((()=>[(0,o._)("div",Ut,[(0,o._)("span",qt,(0,l.zw)(r.customerFirstname),1),(0,o._)("span",Ot,(0,l.zw)(r.customerLastname),1)]),(0,o._)("div",Zt,(0,l.zw)(r.customerEmail),1),r.customerPhone?((0,o.wg)(),(0,o.iD)("div",Gt,(0,l.zw)(r.customerPhone),1)):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(d,{sm:"4",class:"total-order-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("span",Kt,[(0,o.Wm)(u,{icon:"fa-solid fa-chart-simple"}),(0,o._)("span",{innerHTML:r.totalSum},null,8,Jt)]),(0,o._)("span",Qt,[(0,o.Wm)(u,{icon:"fa-solid fa-medal"}),(0,o.Uk)(" "+(0,l.zw)(r.customerScore),1)])])),_:1})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"total-info"},{default:(0,o.w5)((()=>[(0,o._)("div",Xt,[s.chooseCustomerAvailable?((0,o.wg)(),(0,o.iD)("div",es,[(0,o.Wm)(u,{icon:"fa-solid fa-circle-plus",onClick:(0,a.iM)(r.choose,["prevent"])},null,8,["onClick"])])):(0,o.kq)("",!0),(0,o._)("div",{class:"images",onClick:t[0]||(t[0]=(0,a.iM)(((...e)=>r.showImages&&r.showImages(...e)),["prevent"]))},[r.photos.length>0?((0,o.wg)(),(0,o.iD)("img",{key:0,src:r.photos.length?r.photos[0]["url"]:"",class:"photo"},null,8,ts)):((0,o.wg)(),(0,o.j4)(u,{key:1,icon:"fa-solid fa-images"}))])]),(0,o._)("div",ss,[r.customerPhone?((0,o.wg)(),(0,o.iD)("span",as,[(0,o._)("a",{href:"tel:"+r.customerPhone,class:"phone"},[(0,o.Wm)(u,{icon:"fa-solid fa-phone"})],8,os),(0,o._)("a",{href:"sms:"+r.customerPhone,class:"sms"},[(0,o.Wm)(u,{icon:"fa-solid fa-message"})],8,is),(0,o._)("a",{href:"https://wa.me/"+r.customerPhone,class:"whatsapp"},[(0,o.Wm)(u,{icon:"fa-brands fa-whatsapp"})],8,ls)])):(0,o.kq)("",!0)])])),_:1})])),_:1})])])),_:1})])),_:1})}var rs={name:"CustomerItem",props:{customer:{default:function(){return{}}},chooseCustomerAvailable:{default:function(){return!1}}},computed:{customerFirstname(){return this.customer.first_name},customerLastname(){return this.customer.last_name},customerEmail(){return this.customer.email},customerPhone(){return this.customer.phone?this.customer.phone_country_code+this.customer.phone:""},customerScore(){return this.customer.score},totalSum(){return this.$root.settings.currency_symbol+this.customer.total_amount_reservations},totalCount(){return this.customer.bookings.length>0?this.customer.bookings.length:"-"},photos(){return this.customer.photos}},methods:{choose(){this.$emit("choose")},showImages(){this.$emit("showImages",this.customer)}},emits:["choose","showImages"]};const ds=(0,E.Z)(rs,[["render",ns],["__scopeId","data-v-3e082892"]]);var us=ds,cs={name:"CustomersAddressBook",props:{chooseCustomerAvailable:{default:function(){return!1}},shop:{default:function(){return{}}},customer:{default:function(){return{}}}},mounted(){this.load()},watch:{searchFilter(e){e&&this.load()},search(e){e?(this.searchFilter="",this.loadSearch()):this.searchFilter="a|b"},shop(){this.load()},customer(){this.customer&&this.customersList.forEach(((e,t)=>{this.customer.id===e.id&&(this.customersList[t]=this.customer)}))}},data:function(){return{filters:[{label:"a - b",value:"a|b"},{label:"c - d",value:"c|d"},{label:"e - f",value:"e|f"},{label:"g - h",value:"g|h"},{label:"i - j",value:"i|j"},{label:"k - l",value:"k|l"},{label:"m - n",value:"m|n"},{label:"o - p",value:"o|p"},{label:"q - r",value:"q|r"},{label:"s - t",value:"s|t"},{label:"u - v",value:"u|v"},{label:"w - x",value:"w|x"},{label:"y - z",value:"y|z"}],searchFilter:"a|b",customersList:[],isLoading:!1,search:"",timeout:null}},methods:{closeChooseCustomer(){this.$emit("closeChooseCustomer")},choose(e){this.$emit("choose",e)},load(){this.isLoading=!0,this.customersList=[],this.axios.get("customers",{params:{search:this.searchFilter,search_type:"start_with",search_field:"first_name",order_by:"first_name_last_name",shop:this.shop?this.shop.id:null}}).then((e=>{this.customersList=e.data.items})).finally((()=>{this.isLoading=!1}))},loadSearch(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.isLoading=!0,this.customersList=[],this.axios.get("customers",{params:{search:this.search,order_by:"first_name_last_name",shop:this.shop?this.shop.id:null}}).then((e=>{this.customersList=e.data.items})).finally((()=>{this.isLoading=!1}))}),1e3)},showImages(e){this.$emit("showImages",e)}},components:{CustomerItem:us},emits:["closeChooseCustomer","choose","showImages"]};const ms=(0,E.Z)(cs,[["render",Nt],["__scopeId","data-v-0bbd38e5"]]);var hs=ms;const ps={class:"images"},gs={class:"photo-wrapper"},bs=["src"],fs=["onClick"],vs=["onClick"],ws={key:2,class:"date"},ks={class:"take-photo-label"},_s={class:"select-photo-label"};function ys(e,t,s,i,n,r){const d=(0,o.up)("b-spinner"),u=(0,o.up)("font-awesome-icon"),c=(0,o.up)("slide"),m=(0,o.up)("navigation"),h=(0,o.up)("pagination"),p=(0,o.up)("carousel"),g=(0,o.up)("b-col"),b=(0,o.up)("b-button"),f=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",ps,[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{sm:"12",class:"list"},{default:(0,o.w5)((()=>[n.isLoading?((0,o.wg)(),(0,o.j4)(d,{key:0,variant:"primary"})):(0,o.kq)("",!0),(0,o.Wm)(p,{ref:"carousel",modelValue:n.photoIndex,wrapAround:!0,transition:0},{addons:(0,o.w5)((({slidesCount:e})=>[e>1?((0,o.wg)(),(0,o.j4)(m,{key:0})):(0,o.kq)("",!0),e>1?((0,o.wg)(),(0,o.j4)(h,{key:1})):(0,o.kq)("",!0)])),default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.photos,((t,s)=>((0,o.wg)(),(0,o.j4)(c,{key:s},{default:(0,o.w5)((()=>[(0,o._)("span",gs,[(0,o._)("img",{src:t.url,class:"photo"},null,8,bs),t.attachment_id?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"photo-icon-wrapper fa-trash-wrapper",onClick:(0,a.iM)((e=>r.remove(t)),["prevent","stop"])},[(0,o.Wm)(u,{icon:"fa-solid fa-trash"})],8,fs)):(0,o.kq)("",!0),t.attachment_id?((0,o.wg)(),(0,o.iD)("span",{key:1,class:"photo-icon-wrapper fa-circle-check-wrapper",onClick:(0,a.iM)((e=>r.setAsDefault(t)),["prevent","stop"])},[(0,o.Wm)(u,{icon:"fa-regular fa-circle-check",class:(0,l.C_)({default:t.default})},null,8,["class"])],8,vs)):(0,o.kq)("",!0),t.attachment_id?((0,o.wg)(),(0,o.iD)("span",ws,(0,l.zw)(e.dateFormat(1e3*t.created,"DD.MM.YYYY")),1)):(0,o.kq)("",!0)])])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(g,{sm:"12",class:"buttons"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{sm:"6",class:"take-photo",onClick:t[1]||(t[1]=e=>this.$refs.takePhoto.click())},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{variant:"primary",size:"lg"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-camera"})])),_:1}),(0,o._)("div",ks,(0,l.zw)(e.$t("takePhotoButtonLabel")),1),(0,o.wy)((0,o._)("input",{type:"file",accept:"image/*",capture:"camera",ref:"takePhoto",onChange:t[0]||(t[0]=(...e)=>r.uploadTakePhoto&&r.uploadTakePhoto(...e))},null,544),[[a.F8,!1]])])),_:1}),(0,o.Wm)(g,{sm:"6",class:"select-photo"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{variant:"primary",size:"lg",onClick:t[2]||(t[2]=e=>this.$refs.downloadImages.click())},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{icon:"fa-solid fa-cloud-arrow-up"})])),_:1}),(0,o._)("div",_s,(0,l.zw)(e.$t("selectPhotoButtonLabel")),1),(0,o.wy)((0,o._)("input",{type:"file",accept:"image/*",ref:"downloadImages",onChange:t[3]||(t[3]=(...e)=>r.uploadFromPhone&&r.uploadFromPhone(...e))},null,544),[[a.F8,!1]])])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{sm:"12",class:"back"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{variant:"outline-primary",onClick:r.close,size:"lg"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("backImagesButtonLabel")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1})])),_:1})}var Ls={name:"ImagesList",props:{customer:{default:function(){return{}}}},data(){let e=0;return this.customer.photos.forEach(((t,s)=>{+t.default&&(e=s)})),{baseUrl:"/{SLN_PWA_DIST_PATH}/",customerData:this.customer,photoIndex:e,isLoading:!1}},computed:{photos(){return this.customerData.photos.length?this.customerData.photos:[{url:this.baseUrl+"img/placeholder-image.png"}]},id(){return this.customerData.id}},methods:{close(){this.$emit("close",this.customerData)},uploadTakePhoto(){let e=this.$refs.takePhoto.files[0];this.upload(e),this.$refs.takePhoto.value=""},uploadFromPhone(){let e=this.$refs.downloadImages.files[0];this.upload(e),this.$refs.downloadImages.value=""},upload(e,t){let s=new FormData;s.append("file",e,t),this.isLoading=!0,this.axios.post("customers/"+this.id+"/photos",s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.customerData=e.data.items[0]})).finally((()=>{this.isLoading=!1}))},remove(e){this.isLoading=!0,this.axios.delete("customers/"+this.id+"/photos/"+e.attachment_id).then((e=>{this.customerData=e.data.items[0]})).finally((()=>{this.isLoading=!1}))},setAsDefault(e){this.isLoading=!0,this.axios.put("customers/"+this.id+"/photos/"+e.attachment_id,{photo:Object.assign({},e,{default:1})}).then((e=>{this.customerData=e.data.items[0],this.$refs.carousel.slideTo(0)})).finally((()=>{this.isLoading=!1}))}},emits:["close"]};const Ss=(0,E.Z)(Ls,[["render",ys],["__scopeId","data-v-7d385a3f"]]);var Ts=Ss,Cs={name:"UpcomingReservationsTab",props:{shop:{default:function(){return{}}}},components:{UpcomingReservations:F,BookingDetails:Ae,EditBookingItem:Mt,CustomersAddressBook:hs,ImagesList:Ts},data:function(){return{showItem:!1,editItem:!1,item:null,isChooseCustomer:!1,customer:null,isShowCustomerImages:!1,showImagesCustomer:null}},methods:{setShowItem(e){this.showItem=!0,this.item=e},closeShowItem(){this.showItem=!1},setEditItem(){this.editItem=!0},closeEditItem(e){this.editItem=!1,this.customer=null,e&&this.setShowItem(e)},chooseCustomer(){this.isChooseCustomer=!0},closeChooseCustomer(){this.isChooseCustomer=!1},choose(e){this.customer=e,this.closeChooseCustomer()},showCustomerImages(e){this.isShowCustomerImages=!0,this.showImagesCustomer=e,this.$emit("hideTabsHeader",!0)},closeShowCustomerImages(e){this.item.customer_photos=e.photos,this.isShowCustomerImages=!1,this.$emit("hideTabsHeader",!1)}},emits:["hideTabsHeader"]};const As=(0,E.Z)(Cs,[["render",r]]);var Ds=As;function Ws(e,t,s,a,i,l){const n=(0,o.up)("b-spinner"),r=(0,o.up)("ImagesList"),d=(0,o.up)("CustomersAddressBook"),u=(0,o.up)("AddBookingItem"),c=(0,o.up)("EditBookingItem"),m=(0,o.up)("BookingDetails"),h=(0,o.up)("ReservationsCalendar");return(0,o.wg)(),(0,o.iD)("div",null,[e.isLoading?((0,o.wg)(),(0,o.j4)(n,{key:0,variant:"primary"})):e.isShowCustomerImages?((0,o.wg)(),(0,o.j4)(r,{key:1,customer:e.showImagesCustomer,onClose:l.closeShowCustomerImages},null,8,["customer","onClose"])):e.isChooseCustomer?((0,o.wg)(),(0,o.j4)(d,{key:2,onCloseChooseCustomer:l.closeChooseCustomer,chooseCustomerAvailable:!0,onChoose:l.choose,shop:e.addItem?s.shop:e.item.shop},null,8,["onCloseChooseCustomer","onChoose","shop"])):e.addItem?((0,o.wg)(),(0,o.j4)(u,{key:3,onClose:l.close,date:e.date,time:e.time,customer:e.customer,onChooseCustomer:l.chooseCustomer,shop:s.shop},null,8,["onClose","date","time","customer","onChooseCustomer","shop"])):e.editItem?((0,o.wg)(),(0,o.j4)(c,{key:4,booking:e.item,customer:e.customer,onClose:l.closeEditItem,onChooseCustomer:l.chooseCustomer},null,8,["booking","customer","onClose","onChooseCustomer"])):e.showItem?((0,o.wg)(),(0,o.j4)(m,{key:5,booking:e.item,onClose:l.closeShowItem,onEdit:l.setEditItem,onShowCustomerImages:l.showCustomerImages},null,8,["booking","onClose","onEdit","onShowCustomerImages"])):((0,o.wg)(),(0,o.j4)(h,{key:6,onShowItem:l.setShowItem,onAdd:l.add,shop:s.shop},null,8,["onShowItem","onAdd","shop"]))])}const Ps={class:"title"},Is={class:"search"},Bs={class:"calendar"},js={key:0,class:"day day-with-bookings"},zs={key:1,class:"day day-full-booked"},xs={key:2,class:"day day-available-book"},Es={key:3,class:"day day-disable-book"},Ms={key:0,class:"spinner-wrapper"},Hs={class:"attendants"},Rs={class:"slots"},Ys={key:1},$s={key:2};function Vs(e,t,s,a,i,n){const r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-form-input"),u=(0,o.up)("Datepicker"),c=(0,o.up)("b-spinner"),m=(0,o.up)("b-col"),h=(0,o.up)("b-row"),p=(0,o.up)("b-button"),g=(0,o.up)("BookingSlot"),b=(0,o.up)("BookingItem"),f=(0,o.up)("BookingBlockSlot");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",Ps,(0,l.zw)(e.$t("reservationsCalendarTitle")),1),(0,o._)("div",Is,[(0,o.Wm)(r,{icon:"fa-solid fa-magnifying-glass",class:"search-icon"}),(0,o.Wm)(d,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),class:"search-input"},null,8,["modelValue"]),e.search?((0,o.wg)(),(0,o.j4)(r,{key:0,icon:"fa-solid fa-circle-xmark",class:"clear",onClick:t[1]||(t[1]=t=>e.search="")})):(0,o.kq)("",!0)]),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Bs,[(0,o.Wm)(u,{modelValue:e.date,"onUpdate:modelValue":t[2]||(t[2]=t=>e.date=t),inline:"",autoApply:"",noSwipe:"",enableTimePicker:!1,monthChangeOnScroll:!1,onUpdateMonthYear:n.handleMonthYear,locale:e.locale},{day:(0,o.w5)((({day:e,date:t})=>[n.isDayWithBookings(t)?((0,o.wg)(),(0,o.iD)("div",js,(0,l.zw)(e),1)):n.isDayFullBooked(t)?((0,o.wg)(),(0,o.iD)("div",zs,(0,l.zw)(e),1)):n.isAvailableBookings(t)?((0,o.wg)(),(0,o.iD)("div",xs,(0,l.zw)(e),1)):((0,o.wg)(),(0,o.iD)("div",Es,(0,l.zw)(e),1))])),_:1},8,["modelValue","onUpdateMonthYear","locale"]),e.isLoadingCalendar?((0,o.wg)(),(0,o.iD)("div",Ms)):(0,o.kq)("",!0),e.isLoadingCalendar?((0,o.wg)(),(0,o.j4)(c,{key:1,variant:"primary"})):(0,o.kq)("",!0)])])),_:1})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Hs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.attendants,(t=>((0,o.wg)(),(0,o.j4)(p,{key:t.id,variant:"outline-primary",pressed:e.filterAttendant===t.id,onClick:s=>e.filterAttendant===t.id?e.filterAttendant="":e.filterAttendant=t.id},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.name),1)])),_:2},1032,["pressed","onClick"])))),128))])])),_:1})])),_:1}),(0,o._)("div",Rs,[e.isLoadingTimeslots?((0,o.wg)(),(0,o.j4)(c,{key:0,variant:"primary"})):e.timeslots.length>0?((0,o.wg)(),(0,o.iD)("div",Ys,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.timeslots,((t,a)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[(0,o.Wm)(g,{timeslot:t,onAdd:e=>n.add(t),isAvailable:n.isAvailable(t,t)},null,8,["timeslot","onAdd","isAvailable"]),n.getBookingsListByTime(t,e.timeslots[a+1]).length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(n.getBookingsListByTime(t,e.timeslots[a+1]),(e=>((0,o.wg)(),(0,o.j4)(b,{key:e.id,booking:e,onDeleteItem:t=>n.deleteItem(e.id),onShowDetails:t=>n.showDetails(e)},null,8,["booking","onDeleteItem","onShowDetails"])))),128)):a<e.timeslots.length-1?((0,o.wg)(),(0,o.j4)(f,{key:1,start:e.timeslots[a],end:e.timeslots[a+1],date:e.date,shop:s.shop,onLock:n.lock,onUnlock:n.unlock,isLock:n.isLock(e.timeslots[a],e.timeslots[a+1])},null,8,["start","end","date","shop","onLock","onUnlock","isLock"])):(0,o.kq)("",!0)],64)))),128))])):((0,o.wg)(),(0,o.iD)("span",$s,(0,l.zw)(e.$t("noResultTimeslotsLabel")),1))])])}const Ns=e=>((0,o.dD)("data-v-d8a453a8"),e=e(),(0,o.Cn)(),e),Fs={class:"timeslot"},Us={class:"time"},qs=Ns((()=>(0,o._)("span",{class:"line"},null,-1))),Os={class:"action"};function Zs(e,t,s,a,i,n){const r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-col"),u=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Fs,[(0,o._)("span",Us,(0,l.zw)(n.timeslotValue),1),qs,(0,o._)("span",Os,[(0,o.Wm)(r,{icon:"fa-solid fa-circle-plus",class:(0,l.C_)({available:s.isAvailable}),onClick:n.add},null,8,["class","onClick"])])])])),_:1})])),_:1})}var Gs={name:"BookingSlot",props:{timeslot:{default:function(){return"08:00"}},isAvailable:{default:function(){return!0}}},computed:{timeslotValue(){return this.moment(this.timeslot,"HH:mm").format("HH.mm")}},methods:{add(){this.$emit("add")}},emits:["add"]};const Ks=(0,E.Z)(Gs,[["render",Zs],["__scopeId","data-v-d8a453a8"]]);var Js=Ks;const Qs={class:"block-slot"};function Xs(e,t,s,a,i,l){const n=(0,o.up)("b-spinner"),r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-col"),u=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12"},{default:(0,o.w5)((()=>[(0,o._)("div",Qs,[e.isLoading?((0,o.wg)(),(0,o.j4)(n,{key:0,variant:"primary"})):s.isLock?((0,o.wg)(),(0,o.j4)(r,{key:2,icon:"fa-solid fa-lock",onClick:l.unlock},null,8,["onClick"])):((0,o.wg)(),(0,o.j4)(r,{key:1,icon:"fa-solid fa-unlock",onClick:l.lock},null,8,["onClick"]))])])),_:1})])),_:1})}var ea={name:"BookingBlockSlot",props:{isLock:{default:function(){return!1}},start:{default:function(){return"08:00"}},end:{default:function(){return"08:30"}},date:{default:function(){return null}},shop:{default:function(){return{}}}},data:function(){return{isLoading:!1}},computed:{holidayRule(){return{from_date:this.moment(this.date).format("YYYY-MM-DD"),to_date:this.moment(this.date).format("YYYY-MM-DD"),from_time:this.moment(this.start,"HH:mm").format("HH:mm"),to_time:this.moment(this.end,"HH:mm").format("HH:mm"),daily:!0,shop:this.shop?this.shop.id:0}}},methods:{lock(){this.isLoading=!0,this.axios.post("holiday-rules",this.holidayRule).then((e=>{this.$emit("lock",e.data.items)})).finally((()=>{this.isLoading=!1}))},unlock(){this.isLoading=!0,this.axios.delete("holiday-rules",{data:this.holidayRule}).then((e=>{this.$emit("unlock",e.data.items)})).finally((()=>{this.isLoading=!1}))}},emits:["lock","unlock"]};const ta=(0,E.Z)(ea,[["render",Xs],["__scopeId","data-v-175336eb"]]);var sa=ta,aa={name:"ReservationsCalendar",props:{shop:{default:function(){return{}}}},mounted(){this.load(),setTimeout((()=>{window.document.querySelectorAll(".dp__calendar")[0].appendChild(window.document.querySelectorAll(".spinner-wrapper")[0]),window.document.querySelectorAll(".dp__calendar")[0].appendChild(window.document.querySelectorAll(".calendar .spinner-border")[0])}),0),setInterval((()=>this.update()),6e4)},data:function(){return{date:new Date,timeslots:[],isLoadingTimeslots:!1,lockedTimeslots:[],availabilityStats:[],bookingsList:[],filterAttendant:"",search:"",timeout:null,availabilityIntervals:{},isLoadingCalendar:!1}},watch:{date(){this.loadLockedTimeslots(),this.loadBookingsList(),this.loadAvailabilityIntervals()},search(e){e?this.loadSearchBookingsList():this.loadBookingsList()},timeslots(){this.loadAvailabilityIntervals()},lockedTimeslots(){this.timeslots.length>0&&this.loadAvailabilityIntervals()},shop(){this.load()}},computed:{attendants(){var e={};return e[0]={id:"",name:this.$t("allTitle")},this.bookingsList.forEach((t=>{t.services.forEach((t=>{t.assistant_id>0&&(e[t.assistant_id]={id:t.assistant_id,name:t.assistant_name})}))})),Object.values(e).length>1?Object.values(e):[]},filteredBookingsList(){return this.bookingsList.filter((e=>{var t=!1;return e.services.forEach((e=>{this.filterAttendant===e.assistant_id&&(t=!0)})),""===this.filterAttendant||t}))}},methods:{load(){this.loadTimeslots(),this.loadLockedTimeslots();var e=this.date,t=e.getFullYear(),s=e.getMonth(),a=new Date(t,s,1),o=new Date(t,s+1,0);this.loadAvailabilityStats(a,o),this.loadBookingsList()},add(e){this.$emit("add",this.date,e||this.timeslots[0])},lock(e){this.lockedTimeslots=e},unlock(e){this.lockedTimeslots=e},loadTimeslots(){this.isLoadingTimeslots=!0,this.axios.get("calendar/intervals",{params:{shop:this.shop?this.shop.id:null}}).then((e=>{this.timeslots=e.data.items})).finally((()=>{this.isLoadingTimeslots=!1}))},loadLockedTimeslots(){this.isLoadingTimeslots=!0,this.axios.get("holiday-rules",{params:{date:this.moment(this.date).format("YYYY-MM-DD"),shop:this.shop?this.shop.id:null}}).then((e=>{this.lockedTimeslots=e.data.items})).finally((()=>{this.isLoadingTimeslots=!1}))},loadAvailabilityStats(e,t){this.isLoadingCalendar=!0,this.axios.get("availability/stats",{params:{from_date:this.moment(e).format("YYYY-MM-DD"),to_date:this.moment(t).format("YYYY-MM-DD"),shop:this.shop?this.shop.id:null}}).then((e=>{this.availabilityStats=e.data.stats})).finally((()=>{this.isLoadingCalendar=!1}))},loadBookingsList(){this.isLoadingTimeslots=!0,this.bookingsList=[],this.axios.get("bookings",{params:{start_date:this.moment(this.date).format("YYYY-MM-DD"),end_date:this.moment(this.date).format("YYYY-MM-DD"),per_page:-1,statuses:["sln-b-pendingpayment","sln-b-pending","sln-b-paid","sln-b-paylater","sln-b-canceled","sln-b-confirmed"],shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items})).finally((()=>{this.isLoadingTimeslots=!1}))},loadAvailabilityIntervals(){this.axios.post("availability/intervals",{date:this.moment(this.date).format("YYYY-MM-DD"),time:this.timeslots[0],shop:this.shop?this.shop.id:0}).then((e=>{this.availabilityIntervals=e.data.intervals}))},isAvailable(e){return this.availabilityIntervals.universalSuggestedDate===this.moment(this.date).format("YYYY-MM-DD")&&Object.values(this.availabilityIntervals.times).indexOf(e)>-1},isLock(e,t){var s=!1;return this.lockedTimeslots.forEach((a=>{var o=this.moment(a.from_date+" "+a.from_time,"YYYY-MM-DD HH:mm").unix(),i=this.moment(a.to_date+" "+a.to_time,"YYYY-MM-DD HH:mm").unix(),l=this.moment(this.date).format("YYYY-MM-DD"),n=this.moment(l+" "+e,"YYYY-MM-DD HH:mm").unix(),r=this.moment(l+" "+t,"YYYY-MM-DD HH:mm").unix();o<=n&&i>=r&&i>n&&(s=!0)})),s},handleMonthYear(e){var t=new Date(e.year,e.month,1),s=new Date(e.year,e.month+1,0);this.loadAvailabilityStats(t,s)},isDayWithBookings(e){var t=!1;return this.availabilityStats.forEach((s=>{s.date===this.moment(e).format("YYYY-MM-DD")&&s.data&&s.data.bookings>0&&(t=!0)})),t},isAvailableBookings(e){var t=!1;return this.availabilityStats.forEach((s=>{s.date===this.moment(e).format("YYYY-MM-DD")&&s.available&&!s.full_booked&&(t=!0)})),t},isDayFullBooked(e){var t=!1;return this.availabilityStats.forEach((s=>{s.date===this.moment(e).format("YYYY-MM-DD")&&s.full_booked&&(t=!0)})),t},getBookingsListByTime(e,t){return this.filteredBookingsList.filter((s=>this.moment(s.time,"HH:mm").unix()>=this.moment(e,"HH:mm").unix()&&(!t||this.moment(s.time,"HH:mm").unix()<this.moment(t,"HH:mm").unix()))).sort(((e,t)=>this.moment(e.time,"HH:mm").unix()-this.moment(t.time,"HH:mm").unix()))},deleteItem(e){this.axios.delete("bookings/"+e).then((()=>{this.bookingsList=this.bookingsList.filter((t=>t.id!==e))}))},showDetails(e){this.$emit("showItem",e)},loadSearchBookingsList(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.isLoadingTimeslots=!0,this.bookingsList=[],this.axios.get("bookings",{params:{start_date:this.moment(this.date).format("YYYY-MM-DD"),end_date:this.moment(this.date).format("YYYY-MM-DD"),search:this.search,per_page:-1,statuses:["sln-b-pendingpayment","sln-b-pending","sln-b-paid","sln-b-paylater","sln-b-canceled","sln-b-confirmed"],shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items})).finally((()=>{this.isLoadingTimeslots=!1}))}),1e3)},update(){this.updateBookingsList()},updateBookingsList(){this.axios.get("bookings",{params:{start_date:this.moment(this.date).format("YYYY-MM-DD"),end_date:this.moment(this.date).format("YYYY-MM-DD"),per_page:-1,statuses:["sln-b-pendingpayment","sln-b-pending","sln-b-paid","sln-b-paylater","sln-b-canceled","sln-b-confirmed"],shop:this.shop?this.shop.id:null}}).then((e=>{this.bookingsList=e.data.items}))}},components:{BookingSlot:Js,BookingBlockSlot:sa,BookingItem:$},emits:["add","showItem"]};const oa=(0,E.Z)(aa,[["render",Vs],["__scopeId","data-v-29260780"]]);var ia=oa;function la(e,t,s,i,n,r){const d=(0,o.up)("EditBooking");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",null,(0,l.zw)(e.$t("addReservationTitle")),1),(0,o.Wm)(d,{date:s.date,time:s.time,customerID:s.customer?s.customer.id:"",customerFirstname:s.customer?s.customer.first_name:"",customerLastname:s.customer?s.customer.last_name:"",customerEmail:s.customer?s.customer.email:"",customerPhone:s.customer?s.customer.phone:"",customerAddress:s.customer?s.customer.address:"",customerNotes:s.customer?s.customer.note:"",status:"sln-b-confirmed",shop:s.shop,isLoading:e.isLoading,isSaved:e.isSaved,isError:e.isError,errorMessage:e.errorMessage,onClose:r.close,onChooseCustomer:r.chooseCustomer,onSave:r.save},null,8,["date","time","customerID","customerFirstname","customerLastname","customerEmail","customerPhone","customerAddress","customerNotes","shop","isLoading","isSaved","isError","errorMessage","onClose","onChooseCustomer","onSave"])],512)),[[a.F8,e.show]])}var na={name:"AddBookingItem",props:{date:{default:function(){return""}},time:{default:function(){return""}},customer:{default:function(){return{}}},shop:{default:function(){return{}}}},mounted(){this.toggleShow()},components:{EditBooking:zt},data:function(){return{isLoading:!1,isSaved:!1,isError:!1,errorMessage:"",show:!0}},methods:{close(e){this.$emit("close",e)},chooseCustomer(){this.$emit("chooseCustomer")},save(e){this.isLoading=!0,this.axios.post("bookings",e).then((e=>{this.isSaved=!0,setTimeout((()=>{this.isSaved=!1}),3e3),this.axios.get("bookings/"+e.data.id).then((e=>{this.close(e.data.items[0])}))}),(e=>{this.isError=!0,this.errorMessage=e.response.data.message,setTimeout((()=>{this.isError=!1,this.errorMessage=""}),3e3)})).finally((()=>{this.isLoading=!1}))},toggleShow(){this.show=!1,setTimeout((()=>{this.show=!0}),0)}},emits:["close","chooseCustomer"]};const ra=(0,E.Z)(na,[["render",la]]);var da=ra,ua={name:"ReservationsCalendarTab",props:{shop:{default:function(){return{}}}},components:{ReservationsCalendar:ia,AddBookingItem:da,CustomersAddressBook:hs,BookingDetails:Ae,EditBookingItem:Mt,ImagesList:Ts},mounted(){let e=this.getQueryParams();"undefined"!==typeof e["booking_id"]&&(this.isLoading=!0,this.axios.get("bookings/"+e["booking_id"]).then((e=>{this.isLoading=!1,this.setShowItem(e.data.items[0])})))},data:function(){return{addItem:!1,showItem:!1,isChooseCustomer:!1,item:null,editItem:!1,customer:null,date:"",time:"",isLoading:!1,isShowCustomerImages:!1,showImagesCustomer:null}},methods:{add(e,t){this.addItem=!0,this.date=e,this.time=t},setShowItem(e){this.showItem=!0,this.item=e},close(e){this.addItem=!1,this.customer=null,e&&this.setShowItem(e)},chooseCustomer(){this.isChooseCustomer=!0},closeChooseCustomer(){this.isChooseCustomer=!1},closeShowItem(){this.showItem=!1},setEditItem(){this.editItem=!0},closeEditItem(e){this.editItem=!1,this.customer=null,e&&this.setShowItem(e)},choose(e){this.customer=e,this.closeChooseCustomer()},showCustomerImages(e){this.isShowCustomerImages=!0,this.showImagesCustomer=e,this.$emit("hideTabsHeader",!0)},closeShowCustomerImages(e){this.item.customer_photos=e.photos,this.isShowCustomerImages=!1,this.$emit("hideTabsHeader",!1)}},emits:["hideTabsHeader"]};const ca=(0,E.Z)(ua,[["render",Ws]]);var ma=ca;function ha(e,t,s,i,l,n){const r=(0,o.up)("ImagesList"),d=(0,o.up)("CustomersAddressBook");return(0,o.wg)(),(0,o.iD)("div",null,[e.isShowImages?((0,o.wg)(),(0,o.j4)(r,{key:0,customer:e.customer,onClose:n.closeShowImages},null,8,["customer","onClose"])):(0,o.kq)("",!0),(0,o.wy)((0,o.Wm)(d,{shop:s.shop,onShowImages:n.showImages,customer:e.customerData},null,8,["shop","onShowImages","customer"]),[[a.F8,!e.isShowImages]])])}var pa={name:"CustomersAddressBookTab",props:{shop:{default:function(){return{}}}},components:{CustomersAddressBook:hs,ImagesList:Ts},data:function(){return{isShowImages:!1,customer:null,customerData:null}},methods:{showImages(e){this.isShowImages=!0,this.customer=e,this.$emit("hideTabsHeader",!0)},closeShowImages(e){this.isShowImages=!1,this.customerData=e,this.$emit("hideTabsHeader",!1)}},emits:["hideTabsHeader"]};const ga=(0,E.Z)(pa,[["render",ha]]);var ba=ga;function fa(e,t,s,a,i,l){const n=(0,o.up)("ShopsList");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{onApplyShop:l.applyShop},null,8,["onApplyShop"])])}const va={class:"title"},wa={class:"shops-list"},ka={key:2,class:"no-result"};function _a(e,t,s,a,i,n){const r=(0,o.up)("b-spinner"),d=(0,o.up)("ShopItem");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h5",va,(0,l.zw)(e.$t("shopsTitle")),1),(0,o._)("div",wa,[e.isLoading?((0,o.wg)(),(0,o.j4)(r,{key:0,variant:"primary"})):e.shopsList.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(e.shopsList,(e=>((0,o.wg)(),(0,o.j4)(d,{key:e.id,shop:e,onApplyShop:n.applyShop},null,8,["shop","onApplyShop"])))),128)):((0,o.wg)(),(0,o.iD)("span",ka,(0,l.zw)(e.$t("shopsNoResultLabel")),1))])])}const ya={class:"shop"},La={class:"shop-name"},Sa={class:"shop-address"},Ta={class:"shop-email"},Ca={class:"shop-actions"},Aa={class:"shop-phone"},Da={class:"shop-actions-wrapper"},Wa={class:"details-link"};function Pa(e,t,s,a,i,n){const r=(0,o.up)("font-awesome-icon"),d=(0,o.up)("b-col"),u=(0,o.up)("b-row");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"shop-wrapper"},{default:(0,o.w5)((()=>[(0,o._)("div",ya,[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{sm:"12",class:"shop-info"},{default:(0,o.w5)((()=>[(0,o._)("div",La,(0,l.zw)(n.name),1),(0,o._)("div",Sa,(0,l.zw)(n.address),1),(0,o._)("div",Ta,(0,l.zw)(n.email),1),(0,o._)("div",Ca,[(0,o._)("div",Aa,(0,l.zw)(n.phone),1),(0,o._)("div",Da,[(0,o._)("span",Wa,[(0,o.Wm)(r,{icon:"fa-solid fa-chevron-right",onClick:n.applyShop},null,8,["onClick"])])])])])),_:1})])),_:1})])])),_:1})])),_:1})}var Ia={name:"ShopItem",props:{shop:{default:function(){return{}}}},computed:{name(){return this.shop.name},address(){return this.shop.address},email(){return this.shop.email},phone(){return this.shop.phone}},methods:{applyShop(){this.$emit("applyShop",this.shop)}},emits:["applyShop"]};const Ba=(0,E.Z)(Ia,[["render",Pa],["__scopeId","data-v-36220f6c"]]);var ja=Ba,za={name:"ShopsList",data:function(){return{shopsList:[],isLoading:!1}},mounted(){this.load()},components:{ShopItem:ja},methods:{load(){this.isLoading=!0,this.shopsList=[],this.axios.get("shops").then((e=>{this.shopsList=e.data.items})).finally((()=>{this.isLoading=!1}))},applyShop(e){this.$emit("applyShop",e)}},emits:["applyShop"]};const xa=(0,E.Z)(za,[["render",_a],["__scopeId","data-v-6c567d33"]]);var Ea=xa,Ma={name:"ShopsTab",components:{ShopsList:Ea},methods:{applyShop(e){this.$emit("applyShop",e)}},emits:["applyShop"]};const Ha=(0,E.Z)(Ma,[["render",fa]]);var Ra=Ha;const Ya={key:0,class:"shop-title"},$a={class:"label"},Va={class:"value"};function Na(e,t,s,a,i,n){return s.shop?((0,o.wg)(),(0,o.iD)("h4",Ya,[(0,o._)("span",$a,(0,l.zw)(e.$t("shopTitleLabel"))+": ",1),(0,o._)("span",Va,(0,l.zw)(n.name),1)])):(0,o.kq)("",!0)}var Fa={name:"ShopTitle",props:{shop:{default:function(){return{}}}},computed:{name(){return this.shop.name}}};const Ua=(0,E.Z)(Fa,[["render",Na],["__scopeId","data-v-cd7a1f7e"]]);var qa=Ua,Oa={name:"TabsList",props:{isShopsEnabled:{default:function(){return!1}}},components:{UpcomingReservationsTab:Ds,ReservationsCalendarTab:ma,CustomersAddressBookTab:ba,ShopsTab:Ra,ShopTitle:qa},mounted(){window.addEventListener("hashchange",(()=>{this.hash=window.location.hash}));let e=this.getQueryParams();"undefined"!==typeof e["tab"]&&(this.hash="#"+e["tab"])},data:function(){return{hash:window.location.hash?window.location.hash:this.isShopsEnabled?"#shops":"#upcoming-reservations",shop:null,isHideTabsHeader:!1}},methods:{click(e){window.location.href=e},isActiveTab(e){return this.hash===e?"":void 0},applyShop(e){this.shop=e,this.$refs["upcoming-reservations-tab-link"].click(),this.$emit("applyShop",e)},hideTabsHeader(e){this.isHideTabsHeader=e}},emits:["applyShop"]};const Za=(0,E.Z)(Oa,[["render",n],["__scopeId","data-v-ddee0750"]]);var Ga=Za,Ka=s.p+"img/logo.png";const Ja=e=>((0,o.dD)("data-v-53edd0cc"),e=e(),(0,o.Cn)(),e),Qa=Ja((()=>(0,o._)("span",{class:"logo"},[(0,o._)("img",{src:Ka})],-1))),Xa={class:"text"};function eo(e,t,s,a,i,n){const r=(0,o.up)("b-alert"),d=(0,o.up)("b-button");return(0,o.wg)(),(0,o.iD)("div",null,[e.showIOS?((0,o.wg)(),(0,o.j4)(r,{key:0,show:"",dismissible:"",variant:"secondary",class:"add-to-home-screen"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("installPWAIOSText")),1)])),_:1})):((0,o.wg)(),(0,o.j4)(r,{key:1,show:e.shown,dismissible:"",variant:"secondary",class:"add-to-home-screen"},{default:(0,o.w5)((()=>[Qa,(0,o._)("span",Xa,(0,l.zw)(e.$t("installPWAPromptText")),1),(0,o.Wm)(d,{onClick:n.installPWA,class:"btn-install"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("installPWAPromptInstallBtnLabel")),1)])),_:1},8,["onClick"]),(0,o.Wm)(d,{onClick:n.dismissPrompt},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$t("installPWAPromptNoInstallBtnLabel")),1)])),_:1},8,["onClick"])])),_:1},8,["show"]))])}var to={data:()=>({shown:!1,showIOS:!1}),beforeMount(){window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),this.installEvent=e,this.shown=!0}));const e=()=>{const e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)},t=()=>"standalone"in window.navigator&&window.navigator.standalone;e()&&!t()&&(this.showIOS=!0)},methods:{dismissPrompt(){this.shown=!1},installPWA(){this.installEvent.prompt(),this.installEvent.userChoice.then((e=>{this.dismissPrompt(),e.outcome}))}}};const so=(0,E.Z)(to,[["render",eo],["__scopeId","data-v-53edd0cc"]]);var ao=so,oo={name:"App",mounted(){this.loadSettings()},computed:{isShopsEnabled(){return window.slnPWA.is_shops}},data:function(){return{settings:{},statusesList:{"sln-b-pendingpayment":{label:this.$t("pendingPaymentStatusLabel"),color:"#ffc107"},"sln-b-pending":{label:this.$t("pendingStatusLabel"),color:"#ffc107"},"sln-b-paid":{label:this.$t("paidStatusLabel"),color:"#28a745"},"sln-b-paylater":{label:this.$t("payLaterStatusLabel"),color:"#17a2b8"},"sln-b-error":{label:this.$t("errorStatusLabel"),color:"#dc3545"},"sln-b-canceled":{label:this.$t("canceledStatusLabel"),color:"#dc3545"},"sln-b-confirmed":{label:this.$t("confirmedStatusLabel"),color:"#28a745"}},shop:null}},watch:{shop(){this.loadSettings()}},methods:{loadSettings(){this.axios.get("app/settings",{params:{shop:this.shop?this.shop.id:null}}).then((e=>{this.settings=e.data.settings}))},applyShop(e){this.shop=e}},components:{TabsList:Ga,PWAPrompt:ao},beforeCreate(){this.$OneSignal&&(this.$OneSignal.showSlidedownPrompt(),this.$OneSignal.on("subscriptionChange",(e=>{e&&this.$OneSignal.getUserId((e=>{e&&this.axios.put("users",{onesignal_player_id:e})}))})))}};const io=(0,E.Z)(oo,[["render",i]]);var lo=io,no=s(5431);(0,no.z)("/{SLN_PWA_DIST_PATH}/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var ro=s(65),uo=(0,ro.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),co=s(2026),mo=s(3494),ho=s(7749),po=s(8539),go=s(8429),bo=s(4551),fo=s(9024),vo=s(6265),wo=s.n(vo),ko=s(6797),_o=s.n(ko),yo={computed:{axios(){return wo().create({baseURL:window.slnPWA.api,headers:{"Access-Token":window.slnPWA.token}})},moment(){return _o()},locale(){return window.slnPWA.locale}},methods:{dateFormat(e,t){var s=this.$root.settings.date_format?this.$root.settings.date_format.js_format:null;if(!s)return e;var a=s.replace("dd","DD").replace("M","MMM").replace("mm","MM").replace("yyyy","YYYY");return _o()(e).format(t||a)},timeFormat(e){return _o()(e,"HH:mm").format(this.getTimeFormat())},getTimeFormat(){var e=this.$root.settings.time_format?this.$root.settings.time_format.js_format:null;if(e){var t=e.indexOf("p")>-1?e.replace("H","hh").replace("p","a").replace("ii","mm"):e.replace("hh","HH").replace("ii","mm");return t}},getQueryParams(){let e=window.location.search;e=e.replace("?","");let t=e.split("&").map((e=>({key:e.split("=")[0],value:e.split("=")[1]}))),s={};return t.forEach((e=>{s[e.key]=e.value})),s}}},Lo=s(7600),So=s(8932),To=s(1658),Co=s(5658),Ao={pendingPaymentStatusLabel:"Pending payment",pendingStatusLabel:"Pending",paidStatusLabel:"Paid",payLaterStatusLabel:"Pay later",errorStatusLabel:"Error",canceledStatusLabel:"Canceled",confirmedStatusLabel:"Confirmed",upcomingReservationsTitle:"Upcoming reservations",upcomingReservationsNoResultLabel:"No upcoming bookings ...",label8Hours:"8 hrs",label24Hours:"24 hrs",label3Days:"3 days",label1Week:"1 week",allTitle:"All",deleteBookingConfirmText:"Are you sure ?",deleteBookingButtonLabel:"Yes, delete",deleteBookingGoBackLabel:"Go back",editReservationTitle:"Edit the reservation",dateTitle:"date",timeTitle:"time",customerFirstnamePlaceholder:"firstname",customerLastnamePlaceholder:"lastname",customerEmailPlaceholder:"email",customerAddressPlaceholder:"address",customerPhonePlaceholder:"phone",customerNotesPlaceholder:"notes",saveAsNewCustomerLabel:"Save this customer",extraInfoLabel:"Extra info",addAndManageDiscountButtonLabel:"Add and manage discount",selectDiscountLabel:"Select a discount",addDiscountButtonLabel:"Add a discount",saveButtonLabel:"Save booking",savedLabel:"Saved",validationMessage:"Please fill the required fields",selectServicesPlaceholder:"Select services",selectAttendantsPlaceholder:"Select an assistant",selectServicesSearchPlaceholder:"Type service name",selectAssistantsSearchPlaceholder:"Type assistant name",addServiceButtonLabel:"Add a service",addServiceMessage:"Please add services",selectExistingClientButtonLabel:"Select existing client",bookingDetailsTitle:"Booking details",totalTitle:"Total",transactionIdTitle:"Transaction ID",discountTitle:"Discount",depositTitle:"Deposit",dueTitle:"Due",editButtonLabel:"Edit booking",reservationsCalendarTitle:"Reservations calendar",noResultTimeslotsLabel:"No timeslots ...",addReservationTitle:"Add the reservation",customersAddressBookTitle:"Customers",goBackButtonLabel:"GO BACK",customersAddressBookNoResultLabel:"No customers found ...",installPWAPromptText:"Add to home screen ?",installPWAPromptInstallBtnLabel:"Install!",installPWAPromptNoInstallBtnLabel:"No, thanks",installPWAIOSText:"Install this app on your IPhone: tap menu and then Add to homescreen",shopsTitle:"Select a shop",shopsNoResultLabel:"No shops ...",shopTitleLabel:"Shop",successMessagePayRemainingAmount:"Email sent",errorMessagePayRemainingAmount:"Error, email not sent",takePhotoButtonLabel:"Take Photo",selectPhotoButtonLabel:"Select from phone",backImagesButtonLabel:"Go back",photoCameraButtonLabel:"Photo"},Do={pendingPaymentStatusLabel:"Pago pendiente",pendingStatusLabel:"Pendiente",paidStatusLabel:"Pagado",payLaterStatusLabel:"Pagar luego",errorStatusLabel:"Error",canceledStatusLabel:"Cancelado",confirmedStatusLabel:"Confirmado",upcomingReservationsTitle:"Prximas reservas",upcomingReservationsNoResultLabel:"No hay reservas prximamente ...",label8Hours:"8 horas",label24Hours:"24 horas",label3Days:"3 das",label1Week:"1 semana",allTitle:"Todos",deleteBookingConfirmText:"Estas seguro ?",deleteBookingButtonLabel:"Si, eliminar",deleteBookingGoBackLabel:"Regresa",editReservationTitle:"Editar la reservation",dateTitle:"fecha",timeTitle:"hora",customerFirstnamePlaceholder:"nombre",customerLastnamePlaceholder:"apellido",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"direccin",customerPhonePlaceholder:"telfono",customerNotesPlaceholder:"notas",saveAsNewCustomerLabel:"Guardar este cliente",extraInfoLabel:"Informacin extra",addAndManageDiscountButtonLabel:"Agregar y administrar descuento",selectDiscountLabel:"Seleccione un descuento",addDiscountButtonLabel:"Aadir un descuento",saveButtonLabel:"Guardar reserva",savedLabel:"Salvado",validationMessage:"Por favor, rellene los campos obligatorios",selectServicesPlaceholder:"Seleccionar servicios",selectAttendantsPlaceholder:"Selecciona un asistente",selectServicesSearchPlaceholder:"Escriba el nombre del servicio",selectAssistantsSearchPlaceholder:"Escriba el nombre del asistente",addServiceButtonLabel:"Agregar un servicio",addServiceMessage:"Por favor agregue servicios",selectExistingClientButtonLabel:"Seleccionar cliente existente",bookingDetailsTitle:"Detalles de la reserva",totalTitle:"Total",transactionIdTitle:"ID de transaccin",discountTitle:"Descuento",depositTitle:"Depsito",dueTitle:"Debido",editButtonLabel:"Editar reserva",reservationsCalendarTitle:"Calendario de reservas",noResultTimeslotsLabel:"No hay intervalos de tiempo ...",addReservationTitle:"Aadir la reserva",customersAddressBookTitle:"Libreta de direcciones de clientes",goBackButtonLabel:"REGRESA",customersAddressBookNoResultLabel:"No se encontraron clientes ...",nstallPWAPromptText:"Aadir a la pantalla principal?",installPWAPromptInstallBtnLabel:"Instalar!",installPWAPromptNoInstallBtnLabel:"No, gracias",installPWAIOSText:"Instale esta aplicacin en su iPhone: toque el men y luego Agregar a la pantalla de inicio",shopsTitle:"Seleccione una tienda",shopsNoResultLabel:"Sin tiendas ...",shopTitleLabel:"Comercio",successMessagePayRemainingAmount:"Email enviado",errorMessagePayRemainingAmount:"Error, correo electrnico no enviado"},Wo={pendingPaymentStatusLabel:"Paiement en attente",pendingStatusLabel:"En attente",paidStatusLabel:"Paye",payLaterStatusLabel:"Payer plus tard",errorStatusLabel:"ERREUR",canceledStatusLabel:"Annule",confirmedStatusLabel:"Confirme",upcomingReservationsTitle:"A venir reservations",upcomingReservationsNoResultLabel:"Pas de rservations a venir ...",label8Hours:"8 heures",label24Hours:"24 heures",label3Days:"3 jours",label1Week:"1 semaine",allTitle:"Tout",deleteBookingConfirmText:"tes-vous sr ?",deleteBookingButtonLabel:"Oui, supprimer",deleteBookingGoBackLabel:"Retourner",editReservationTitle:"Modifier la rservation",dateTitle:"date",timeTitle:"heure",customerFirstnamePlaceholder:"prnom",customerLastnamePlaceholder:"nom de famille",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"addresse",customerPhonePlaceholder:"tlphone",customerNotesPlaceholder:"notes",saveAsNewCustomerLabel:"Enregistrer ce client",extraInfoLabel:"Informaitons supplmentaires",addAndManageDiscountButtonLabel:"Ajouter et grer une remise",selectDiscountLabel:"Slectionnez une rduction",addDiscountButtonLabel:"Ajouter une remise",saveButtonLabel:"Enregistrer la rservation",savedLabel:"Enregistr",validationMessage:"Veuillez remplir les champs requis",selectServicesPlaceholder:"Slectionnez les prestations",selectAttendantsPlaceholder:"Slectionnez un assistant",selectServicesSearchPlaceholder:"Tapez le nom du service",selectAssistantsSearchPlaceholder:"Tapez le nom de l'assistant",addServiceButtonLabel:"Ajouter un service",addServiceMessage:"Veuillez ajouter des services",selectExistingClientButtonLabel:"Slectionnez un client existant",bookingDetailsTitle:"Les dtails de rservation",totalTitle:"Total",transactionIdTitle:"Identifiant De Transaction",discountTitle:"Remise",depositTitle:"Acompte",dueTitle:"Reste",editButtonLabel:"Modifier la rservation",reservationsCalendarTitle:"Calendrier des rservations",noResultTimeslotsLabel:"Pas de plages horaires ...",addReservationTitle:"Ajouter la rservation",customersAddressBookTitle:"Carnet d'adresses clients",goBackButtonLabel:"RETOURNER",customersAddressBookNoResultLabel:"Aucun client trouv ...",installPWAPromptText:"Ajouter  l'cran d'accueil ?",installPWAPromptInstallBtnLabel:"Installer!",installPWAPromptNoInstallBtnLabel:"Non merci",installPWAIOSText:"Installez cette application sur votre iPhone : appuyez sur le menu, puis sur Ajouter  l'cran d'accueil",shopsTitle:"Slectionnez une boutique",shopsNoResultLabel:"Pas de magasins ...",shopTitleLabel:"Boutique",successMessagePayRemainingAmount:"Email envoy",errorMessagePayRemainingAmount:"Erreur, e-mail non envoy"},Po={pendingPaymentStatusLabel:"Oczekujca patno",pendingStatusLabel:"Oczekujca",paidStatusLabel:"Opacone",payLaterStatusLabel:"Zapa pniej",errorStatusLabel:"Bad",canceledStatusLabel:"Anulowane",confirmedStatusLabel:"Zatwierdzone",upcomingReservationsTitle:"Nadchodzce rezerwacje",upcomingReservationsNoResultLabel:"Brak nadchodzcych rezerwacji ...",label8Hours:"8godz",label24Hours:"24godz",label3Days:"3dni",label1Week:"1wydzie",allTitle:"Wszystko",deleteBookingConfirmText:"Jeste pewny ?",deleteBookingButtonLabel:"Tak, usu",deleteBookingGoBackLabel:"Wr",editReservationTitle:"Edytuj rezerwacj",dateTitle:"data",timeTitle:"czas / godzina",customerFirstnamePlaceholder:"imi",customerLastnamePlaceholder:"nazwisko",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"adres",customerPhonePlaceholder:"pelefon",customerNotesPlaceholder:"notatki",saveAsNewCustomerLabel:"Zapisz tego klienta",extraInfoLabel:"Informacje dodatkowe",addAndManageDiscountButtonLabel:"Dodaj znik i zarzdzaj ni",selectDiscountLabel:"Wybierz znik",addDiscountButtonLabel:"Dodaj rabat",saveButtonLabel:"Zapisz rezerwacj",savedLabel:"Zapisane",validationMessage:"Prosz wypeni wymagane pola",selectServicesPlaceholder:"Wybierz usugi",selectAttendantsPlaceholder:"Wybierz asystenta",selectServicesSearchPlaceholder:"Wpisz nazw usugi",selectAssistantsSearchPlaceholder:"Wpisz imi asystenta",addServiceButtonLabel:"Dodaj usug",addServiceMessage:"Prosz doda usugi",selectExistingClientButtonLabel:"Wybierz istniejcego klienta",bookingDetailsTitle:"Szczegy rezerwacji",totalTitle:"Cakowicie",transactionIdTitle:"Identyfikator transakcji",discountTitle:"Rabat/Upust",depositTitle:"Depozyt",dueTitle:"Wymagane do",editButtonLabel:"Edytuj rezerwacj",reservationsCalendarTitle:"Kalendarz rezerwacji",noResultTimeslotsLabel:"Brak przedziaw czasowych ...",addReservationTitle:"Dodaj rezerwacj",customersAddressBookTitle:"Ksika adresowa klientw",goBackButtonLabel:"WR",customersAddressBookNoResultLabel:"Nie znaleziono klientw ...",installPWAPromptText:"Dodaj do ekranu gwnego ?",installPWAPromptInstallBtnLabel:"Zainstalowa!",installPWAPromptNoInstallBtnLabel:"Nie, dzikuj",installPWAIOSText:"Zainstaluj t aplikacj na swoim iPhonie: dotknij menu, a nastpnie Dodaj do ekranu gwnego",shopsTitle:"Wybierz sklep",shopsNoResultLabel:"Brak sklepw ...",shopTitleLabel:"Sklep",successMessagePayRemainingAmount:"E-mail wysany",errorMessagePayRemainingAmount:"Bd, e-mail nie zosta wysany"},Io={pendingPaymentStatusLabel:"Bekleyen deme",pendingStatusLabel:"Bekliyor",paidStatusLabel:"dendi",payLaterStatusLabel:"Sonra de",errorStatusLabel:"Hata",canceledStatusLabel:"ptal edildi",confirmedStatusLabel:"Onaylandi",upcomingReservationsTitle:"Yaklaan rezervasyonlar",upcomingReservationsNoResultLabel:"Yaklaan rezervasyon yok ...",label8Hours:"8saat",label24Hours:"24saat",label3Days:"3gn",label1Week:"1hafta",allTitle:"Herey",deleteBookingConfirmText:"Emin misin ?",deleteBookingButtonLabel:"Evet, sil",deleteBookingGoBackLabel:"Geri dn",editReservationTitle:"Edit the reservation",dateTitle:"tarih",timeTitle:"saat",customerFirstnamePlaceholder:"ad",customerLastnamePlaceholder:"soyad",customerEmailPlaceholder:"e-posta",customerAddressPlaceholder:"adres",customerPhonePlaceholder:"telefon",customerNotesPlaceholder:"notlar",saveAsNewCustomerLabel:"Bu mteriyi kaydet",extraInfoLabel:"Fazladan bilgi",addAndManageDiscountButtonLabel:"ndirim ekle ve ynet",selectDiscountLabel:"Bir indirim sein",addDiscountButtonLabel:"Indirim ekle",saveButtonLabel:"Rezervasyonu kaydet",savedLabel:"Kaydedildi",validationMessage:"Ltfen gerekli alanlar doldurunuz",selectServicesPlaceholder:"Hizmetleri sein",selectAttendantsPlaceholder:"Bir asistan sein",selectServicesSearchPlaceholder:"Hizmet adn yazn",selectAssistantsSearchPlaceholder:"Asistan adn yazn",addServiceButtonLabel:"Hizmet ekle",addServiceMessage:"Ltfen hizmet ekleyin",selectExistingClientButtonLabel:"Mevcut istemciyi sein",bookingDetailsTitle:"Rezervasyon detaylar",totalTitle:"Toplam",transactionIdTitle:"lem Kimlii",discountTitle:"ndirim",depositTitle:"Depozito",dueTitle:"Vadesi",editButtonLabel:"Rezervasyonu dzenle",reservationsCalendarTitle:"Rezervasyon takvimi",noResultTimeslotsLabel:"Zaman aral yok ...",addReservationTitle:"Rezervasyonu ekleyin",customersAddressBookTitle:"Mteri adres defteri",goBackButtonLabel:"GER DN",customersAddressBookNoResultLabel:"Mteri bulunamad ...",installPWAPromptText:"Ana ekrana ekle?",installPWAPromptInstallBtnLabel:"Dzenlemek!",installPWAPromptNoInstallBtnLabel:"Hayr, teekkrler",installPWAIOSText:"Bu uygulamay iPhone'unuza ykleyin: menye ve ardndan Ana ekrana ekle'ye dokunun",shopsTitle:"Bir maaza sein",shopsNoResultLabel:"Dkkan yok ...",shopTitleLabel:"Maaza",successMessagePayRemainingAmount:"E-posta gnderildi",errorMessagePayRemainingAmount:"Hata, e-posta gnderilemedi"},Bo={pendingPaymentStatusLabel:"In afwachting van betaling",pendingStatusLabel:"In afwachting",paidStatusLabel:"Betaald",payLaterStatusLabel:"Betaal later",errorStatusLabel:"Fout",canceledStatusLabel:"Geannuleerd",confirmedStatusLabel:"Bevestigd",upcomingReservationsTitle:"Aankomende reserveringen",upcomingReservationsNoResultLabel:"Geen aankomende reserveringen ...",label8Hours:"8 uur",label24Hours:"24 uur",label3Days:"3 dagen",label1Week:"1 week",allTitle:"Allemaal",deleteBookingConfirmText:"Weet je het zeker ?",deleteBookingButtonLabel:"Ja, verwijderen",deleteBookingGoBackLabel:"Ga terug",editReservationTitle:"Bewerk de reservering",dateTitle:"datum",timeTitle:"tijd",customerFirstnamePlaceholder:"voornaam",customerLastnamePlaceholder:"achternaam",customerEmailPlaceholder:"e-mailadres",customerAddressPlaceholder:"adres",customerPhonePlaceholder:"telefoonnummer",customerNotesPlaceholder:"opmerkingen",saveAsNewCustomerLabel:"Bewaar deze klant",extraInfoLabel:"Extra info",addAndManageDiscountButtonLabel:"Korting toevoegen en beheren",selectDiscountLabel:"Selecteer een korting",addDiscountButtonLabel:"Voeg een korting toe",saveButtonLabel:"Boeking opslaan",savedLabel:"Opgeslagen",validationMessage:"Vul de verplichte velden in",selectServicesPlaceholder:"Selecteer diensten",selectAttendantsPlaceholder:"Kies een assistent",selectServicesSearchPlaceholder:"Typ servicenaam",selectAssistantsSearchPlaceholder:"Typ de naam van de assistent",addServiceButtonLabel:"Een dienst toevoegen",addServiceMessage:"Voeg diensten toe",selectExistingClientButtonLabel:"Selecteer bestaande klant",bookingDetailsTitle:"Boekingsdetails",totalTitle:"Totaal",transactionIdTitle:"Transactie ID",discountTitle:"Korting",depositTitle:"Voorschot",dueTitle:"Vanwege",editButtonLabel:"Boeking bewerken",reservationsCalendarTitle:"Reserveringskalender",noResultTimeslotsLabel:"Geen tijdsloten ...",addReservationTitle:"Voeg de reservering toe",customersAddressBookTitle:"Adresboek van klanten",goBackButtonLabel:"GA TERUG",customersAddressBookNoResultLabel:"Geen klanten gevonden ...",installPWAPromptText:"Toevoegen aan startscherm ?",installPWAPromptInstallBtnLabel:"Installeren!",installPWAPromptNoInstallBtnLabel:"Nee, dank u wel",installPWAIOSText:"Installeer deze app op je iPhone: tik op menu en vervolgens op Toevoegen aan startscherm",shopsTitle:"Selecteer een winkel",shopsNoResultLabel:"Geen winkels ...",shopTitleLabel:"Winkel",successMessagePayRemainingAmount:"Email verzonden",errorMessagePayRemainingAmount:"Fout, e-mail niet verzonden"},jo={pendingPaymentStatusLabel:"Ausstehende zahlung",pendingStatusLabel:"Ausstehend",paidStatusLabel:"Bezahlt",payLaterStatusLabel:"Spter zahlen",errorStatusLabel:"Fehler",canceledStatusLabel:"Abgebrochen",confirmedStatusLabel:"Besttigt",upcomingReservationsTitle:"Kommende reservierungen",upcomingReservationsNoResultLabel:"Keine kommenden buchungen ...",label8Hours:"8 Std.",label24Hours:"24 Std.",label3Days:"3 Tage",label1Week:"1 Woche",allTitle:"Alle",deleteBookingConfirmText:"Bist du dir sicher ?",deleteBookingButtonLabel:"Ja, lschen",deleteBookingGoBackLabel:"Geh zurck",editReservationTitle:"Bearbeiten sie die reservierung",dateTitle:"datum",timeTitle:"zeit",customerFirstnamePlaceholder:"vorname",customerLastnamePlaceholder:"nachname",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"anschrift",customerPhonePlaceholder:"telefone",customerNotesPlaceholder:"hinweise",saveAsNewCustomerLabel:"Speichern sie diesen kunden",extraInfoLabel:"Zusatzinformation",addAndManageDiscountButtonLabel:"Rabatt hinzufgen und verwalten",selectDiscountLabel:"Whlen sie einen rabatt aus",addDiscountButtonLabel:"Rabatt hinzufgen",saveButtonLabel:"Buchung speichern",savedLabel:"Gerettet",validationMessage:"Bitte fllen sie die erforderlichen felder aus",selectServicesPlaceholder:"Dienste auswhlen",selectAttendantsPlaceholder:"Whlen sie einen assistenten aus",selectServicesSearchPlaceholder:"Geben sie den dienstnamen ein",selectAssistantsSearchPlaceholder:"Geben sie den namen des assistenten ein",addServiceButtonLabel:"Fgen sie einen dienst hinzu",addServiceMessage:"Bitte fgen sie leistungen hinzu",selectExistingClientButtonLabel:"Vorhandenen kunden auswhlen",bookingDetailsTitle:"Buchungsdetails",totalTitle:"Gesamt",transactionIdTitle:"Transaktions ID",discountTitle:"Rabatt",depositTitle:"Anzahlung",dueTitle:"Fllig",editButtonLabel:"Buchung bearbeiten",reservationsCalendarTitle:"Reservierungskalender",noResultTimeslotsLabel:"Keine zeitfenster ...",addReservationTitle:"Reservierung hinzufgen",customersAddressBookTitle:"Adressbuch der kunden",goBackButtonLabel:"GEH ZURCK",customersAddressBookNoResultLabel:"Keine kunden gefunden ...",installPWAPromptText:"Zum startbildschirm hinzufgen ?",installPWAPromptInstallBtnLabel:"Installieren!",installPWAPromptNoInstallBtnLabel:"Nein danke",installPWAIOSText:"Installieren sie diese app auf ihrem iPhone: tippen sie auf men und dann auf Zum startbildschirm hinzufgen",shopsTitle:"Whlen sie einen laden aus",shopsNoResultLabel:"Keine geschfte ...",shopTitleLabel:"Geschft",successMessagePayRemainingAmount:"E-Mail gesendet",errorMessagePayRemainingAmount:"Fehler, E-Mail nicht gesendet"},zo={pendingPaymentStatusLabel:"In attesa di pagamento",pendingStatusLabel:"In attesa di",paidStatusLabel:"Pagato",payLaterStatusLabel:"Paga dopo",errorStatusLabel:"Errore",canceledStatusLabel:"Annullato",confirmedStatusLabel:"Confermato",upcomingReservationsTitle:"Prossime prenotazioni",upcomingReservationsNoResultLabel:"Nessuna prenotazione in arrivo ...",label8Hours:"8 ore",label24Hours:"24 ore",label3Days:"3 giorni",label1Week:"1 settimana",allTitle:"Tutto",deleteBookingConfirmText:"Sei sicuro ?",deleteBookingButtonLabel:"S, elimina",deleteBookingGoBackLabel:"Torna indietro",editReservationTitle:"Modifica la prenotazione",dateTitle:"data",timeTitle:"volta",customerFirstnamePlaceholder:"nome di battesimo",customerLastnamePlaceholder:"cognome",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"indirizzo",customerPhonePlaceholder:"telefono",customerNotesPlaceholder:"appunti",saveAsNewCustomerLabel:"Salva questo cliente",extraInfoLabel:"Ulteriori informazioni",addAndManageDiscountButtonLabel:"Aggiungi e gestisci lo sconto",selectDiscountLabel:"Seleziona uno sconto",addDiscountButtonLabel:"Aggiungi uno sconto",saveButtonLabel:"Salva prenotazione",savedLabel:"Salvato",validationMessage:"Si prega di compilare i campi richiesti",selectServicesPlaceholder:"Seleziona i servizi",selectAttendantsPlaceholder:"Seleziona un assistente",selectServicesSearchPlaceholder:"Digitare il nome del servizio",selectAssistantsSearchPlaceholder:"Digita il nome dell'assistente",addServiceButtonLabel:"Aggiungi un servizio",addServiceMessage:"Si prega di aggiungere servizi",selectExistingClientButtonLabel:"Seleziona cliente esistente",bookingDetailsTitle:"Dettagli della prenotazione",totalTitle:"Totale",transactionIdTitle:"ID transazione",discountTitle:"Sconto",depositTitle:"Depositare",dueTitle:"Dovuto",editButtonLabel:"Modifica prenotazione",reservationsCalendarTitle:"Calendario delle prenotazioni",noResultTimeslotsLabel:"Nessuna fascia oraria ...",addReservationTitle:"Aggiungi la prenotazione",customersAddressBookTitle:"Rubrica clienti",goBackButtonLabel:"TORNA INDIETRO",customersAddressBookNoResultLabel:"Nessun cliente trovato ...",installPWAPromptText:"Aggiungere alla schermata home ?",installPWAPromptInstallBtnLabel:"Installare!",installPWAPromptNoInstallBtnLabel:"No grazie",installPWAIOSText:"Installa questa app sul tuo iPhone: tocca menu e poi Aggiungi a homescreen",shopsTitle:"Seleziona un negozio",shopsNoResultLabel:"Niente negozi ...",shopTitleLabel:"Negozio",successMessagePayRemainingAmount:"Email inviata",errorMessagePayRemainingAmount:"Errore, email non inviata"},xo={pendingPaymentStatusLabel:"Pagamento pendente",pendingStatusLabel:"Pendente",paidStatusLabel:"Pago",payLaterStatusLabel:"Pagar agora",errorStatusLabel:"Erro",canceledStatusLabel:"Cancelado",confirmedStatusLabel:"Confirmado",upcomingReservationsTitle:"Prximas reservas",upcomingReservationsNoResultLabel:"Sem reservas nas prximas horas ...",label8Hours:"8 horas",label24Hours:"24 horas",label3Days:"3 dias",label1Week:"1 semana",allTitle:"Todos",deleteBookingConfirmText:"Tens a certeza ?",deleteBookingButtonLabel:"Sim, eliminar",deleteBookingGoBackLabel:"Voltar atrs",editReservationTitle:"Editar reserva",dateTitle:"data",timeTitle:"hora",customerFirstnamePlaceholder:"nome",customerLastnamePlaceholder:"sobrenome",customerEmailPlaceholder:"e-mail",customerAddressPlaceholder:"morada",customerPhonePlaceholder:"telefone",customerNotesPlaceholder:"notas",saveAsNewCustomerLabel:"Guardar cliente",extraInfoLabel:" extra",addAndManageDiscountButtonLabel:"Adicionar e gerir descontos",selectDiscountLabel:"Escolha um desconto",addDiscountButtonLabel:"Adicionar desconto",saveButtonLabel:"Guardar reserva",savedLabel:"Reserva guardada",validationMessage:"Por favor, preencha campos obrigatrios ",selectServicesPlaceholder:"Seleccionar servios",selectAttendantsPlaceholder:"Selecione um profissional",selectServicesSearchPlaceholder:"Escreva um servio",selectAssistantsSearchPlaceholder:"Escreva o nome de um profissional",addServiceButtonLabel:"Adicionar servios",addServiceMessage:"Por favor adicione servios",selectExistingClientButtonLabel:"Seleccionar cliente existente",bookingDetailsTitle:"Detalhes da reserva",totalTitle:"Total",transactionIdTitle:"ID de transio",discountTitle:"Desconto",depositTitle:"Depsito",dueTitle:"Conta",editButtonLabel:"Editar reserva",reservationsCalendarTitle:"calendrio de reservas",noResultTimeslotsLabel:"No h intervalo de tempos ...",addReservationTitle:"adicionar reserva",customersAddressBookTitle:"morada do cliente",goBackButtonLabel:"VOLTAR",customersAddressBookNoResultLabel:"No foi possvel encontrar cliente ...",nstallPWAPromptText:"Adicionar ao ecr principal?",installPWAPromptInstallBtnLabel:"Instalar!",installPWAPromptNoInstallBtnLabel:"No, obrigado",installPWAIOSText:"Instale esta aplicaco no seu telefone: toque em men e adicione ao ecr",shopsTitle:"Selecione uma loja",shopsNoResultLabel:"Sem lojas ...",shopTitleLabel:"Comprar",successMessagePayRemainingAmount:"E-mail enviado",errorMessagePayRemainingAmount:"Erro, e-mail no enviado"};const Eo=(0,Co.o)({locale:window.slnPWA.locale,fallbackLocale:"en",messages:{en:Ao,es:Do,fr:Wo,pl:Po,tr:Io,nl:Bo,de:jo,it:zo,pt:xo}});var Mo=Eo;mo.vI.add(po.Zrf,po.WRo,go.hVn,po.Y$T,go.SZw,po._tD,po.$aW,po.WA2,po.Yai,po.LEp,po.FVb,po.r8p,po.dWM,po.XSi,po.Wpq,po._su,po.tAh,po.byT,po.j1w,po.vto,po.EQ8,bo.VHX,po.vJI,po.l9f,po._jT,po.wEO,go.fV7);var Ho=(0,a.ri)(lo).use(uo).use(co.ZP).component("font-awesome-icon",ho.GN).component("Datepicker",fo.Z).component("vue-select",So.Z).component("Carousel",To.lr).component("Slide",To.Mi).component("Pagination",To.tl).component("Navigation",To.W_).mixin(yo),Ro=window.slnPWA.onesignal_app_id;Ro&&Ho.use(Lo.Z,{appId:Ro,serviceWorkerParam:{scope:"/{SLN_PWA_DIST_PATH}/"},serviceWorkerPath:"{SLN_PWA_DIST_PATH}/OneSignalSDKWorker.js"}),Ho.use(Mo),Ho.mount("#app")}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,i){if(!a){var l=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],i=e[u][2];for(var n=!0,r=0;r<a.length;r++)(!1&i||l>=i)&&Object.keys(s.O).every((function(e){return s.O[e](a[r])}))?a.splice(r--,1):(n=!1,i<l&&(l=i));if(n){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/{SLN_PWA_DIST_PATH}/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,i,l=a[0],n=a[1],r=a[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(r)var u=r(s)}for(t&&t(a);d<l.length;d++)i=l[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},a=self["webpackChunksalon_booking_plugin_pwa"]=self["webpackChunksalon_booking_plugin_pwa"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(3322)}));a=s.O(a)})();
//# sourceMappingURL=app.js.map